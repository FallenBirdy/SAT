{% extends 'home/base.html' %}

{% block title %}Dashboard - Gym Tracker{% endblock %}

{% block page_title %}Dashboard{% endblock %}

{% block extra_css %}
<style>
  /* Hero Section */
  .hero-section {
    background: linear-gradient(135deg, rgba(0,0,0,0.7), rgba(0,0,0,0.5)), 
                url('https://images.unsplash.com/photo-1534438327276-14e5300c3a48?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80');
    background-size: cover;
    background-position: center;
    background-attachment: fixed;
    color: white;
    padding: 5rem 0;
    margin: -1.5rem -1.5rem 3rem -1.5rem;
    border-radius: 0.35rem;
    position: relative;
    overflow: hidden;
  }
  
  .hero-section::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1, #96ceb4, #feca57);
    opacity: 0.1;
    animation: gradientShift 10s ease infinite;
  }
  
  @keyframes gradientShift {
    0%, 100% { transform: translateX(-100%); }
    50% { transform: translateX(100%); }
  }
  
  .hero-content {
    position: relative;
    z-index: 2;
    text-align: center;
  }
  
  .hero-title {
    font-size: 3.8rem;
    font-weight: 900;
    margin-bottom: 1.5rem;
    text-shadow: 2px 2px 8px rgba(0,0,0,0.8);
    color: #ffffff;
    line-height: 1.1;
    letter-spacing: -0.5px;
    animation: titleGlow 3s ease-in-out infinite alternate;
  }
  
  @keyframes titleGlow {
    from { 
      text-shadow: 2px 2px 8px rgba(0,0,0,0.8), 0 0 20px rgba(255, 255, 255, 0.3); 
    }
    to { 
      text-shadow: 2px 2px 8px rgba(0,0,0,0.8), 0 0 30px rgba(255, 255, 255, 0.6); 
    }
  }
  
  .hero-subtitle {
    font-size: 1.4rem;
    font-weight: 500;
    margin-bottom: 2.5rem;
    opacity: 0.9;
    line-height: 1.6;
    letter-spacing: 0.2px;
  }
  
  /* Animated Statistics Cards */
  .stat-card {
    background: linear-gradient(135deg, rgba(255,255,255,0.15), rgba(255,255,255,0.08));
    backdrop-filter: blur(15px);
    border: 1px solid rgba(255,255,255,0.3);
    border-radius: 20px;
    padding: 2.5rem 2rem;
    color: white;
    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    position: relative;
    overflow: hidden;
    cursor: pointer;
    text-align: center;
    text-shadow: 1px 1px 3px rgba(0,0,0,0.5);
    min-height: 180px;
    display: flex;
    flex-direction: column;
    justify-content: center;
  }
  
  .stat-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
    transition: left 0.6s ease;
  }
  
  .stat-card:hover::before {
    left: 100%;
  }
  
  .stat-card:hover {
    transform: translateY(-15px) scale(1.08) rotateY(5deg);
    box-shadow: 0 25px 50px rgba(0,0,0,0.4);
  }
  
  .stat-card:active {
    transform: translateY(-10px) scale(1.02);
  }
  
  .stat-number {
    font-size: 3.5rem;
    font-weight: 900;
    margin-bottom: 1rem;
    background: linear-gradient(45deg, #fff, #f0f0f0);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
    transition: all 0.3s ease;
    line-height: 1.2;
  }
  
  .stat-card:hover .stat-number {
    font-size: 4rem;
    text-shadow: 3px 3px 6px rgba(0,0,0,0.4);
  }
  
  .stat-label {
    font-size: 1.2rem;
    opacity: 0.95;
    text-transform: uppercase;
    letter-spacing: 1px;
    font-weight: 600;
    line-height: 1.4;
    margin-top: 0.5rem;
  }
  
  .stat-icon {
    position: absolute;
    top: 1rem;
    right: 1rem;
    font-size: 2.5rem;
    opacity: 0.4;
    transition: all 0.3s ease;
  }
  
  .stat-card:hover .stat-icon {
    transform: scale(1.2) rotate(10deg);
    opacity: 0.6;
  }
  
  /* Different gradient themes for stat cards */
  .stat-card.workouts {
    background: linear-gradient(135deg, rgba(102, 126, 234, 0.2), rgba(118, 75, 162, 0.2));
    border: 1px solid rgba(102, 126, 234, 0.3);
  }
  
  .stat-card.goals {
    background: linear-gradient(135deg, rgba(240, 147, 251, 0.2), rgba(245, 87, 108, 0.2));
    border: 1px solid rgba(240, 147, 251, 0.3);
  }
  
  .stat-card.weight {
    background: linear-gradient(135deg, rgba(79, 172, 254, 0.2), rgba(0, 242, 254, 0.2));
    border: 1px solid rgba(79, 172, 254, 0.3);
  }
  
  .stat-card.streak {
    background: linear-gradient(135deg, rgba(67, 233, 123, 0.2), rgba(56, 249, 215, 0.2));
    border: 1px solid rgba(67, 233, 123, 0.3);
  }
  
  .stat-card.calories {
    background: linear-gradient(135deg, rgba(255, 107, 107, 0.2), rgba(238, 90, 82, 0.2));
    border: 1px solid rgba(255, 107, 107, 0.3);
  }
  
  .stat-card.time {
    background: linear-gradient(135deg, rgba(168, 237, 234, 0.2), rgba(254, 214, 227, 0.2));
    border: 1px solid rgba(168, 237, 234, 0.3);
  }
  
  /* Floating animation */
  @keyframes floating {
    0%, 100% {
      transform: translateY(0px);
    }
    50% {
      transform: translateY(-10px);
    }
  }
  
  .floating {
    animation: floating 3s ease-in-out infinite;
  }
  
  /* Pulse animation for numbers */
  @keyframes pulse {
    0% {
      transform: scale(1);
    }
    50% {
      transform: scale(1.05);
    }
    100% {
      transform: scale(1);
    }
  }
  
  .stat-number.pulse {
    animation: pulse 0.6s ease-in-out;
  }
  
  /* Enhanced glow effect on hover */
  .stat-card:hover {
    transform: translateY(-15px) scale(1.08) rotateY(5deg);
    box-shadow: 0 25px 50px rgba(0,0,0,0.4), 0 0 30px rgba(255,255,255,0.1);
  }
  
  /* Sparkle effect */
  .stat-card::after {
    content: '✨';
    position: absolute;
    top: 10px;
    right: 10px;
    font-size: 1.2rem;
    opacity: 0;
    transition: all 0.3s ease;
    transform: scale(0);
  }
  
  .stat-card:hover::after {
    opacity: 1;
    transform: scale(1) rotate(20deg);
  }
  
  /* Responsive adjustments for stat cards */
  @media (max-width: 768px) {
    .stat-card {
      padding: 1.5rem;
    }
    
    .stat-number {
      font-size: 2.5rem;
    }
    
    .stat-card:hover .stat-number {
      font-size: 3rem;
    }
    
    .stat-icon {
      font-size: 2rem;
    }
  }
  
  /* Modern Cards */
  .modern-card {
    background: linear-gradient(135deg, rgba(255,255,255,0.95), rgba(255,255,255,0.9));
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255,255,255,0.2);
    border-radius: 20px;
    box-shadow: 0 8px 32px rgba(0,0,0,0.1);
    transition: all 0.3s ease;
    overflow: hidden;
    margin-bottom: 2rem;
  }
  
  .modern-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 15px 40px rgba(0,0,0,0.15);
  }
  
  .modern-card-header {
    background: linear-gradient(135deg, #667eea, #764ba2);
    color: white;
    padding: 2rem 1.5rem;
    border: none;
    position: relative;
  }
  
  .modern-card-header::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: linear-gradient(90deg, #ff6b6b, #4ecdc4, #45b7d1, #96ceb4);
  }
  
  .modern-card-body {
    padding: 2.5rem;
  }
  
  /* Activity Items */
  .activity-item {
    background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(118, 75, 162, 0.1));
    border: 1px solid rgba(102, 126, 234, 0.2);
    border-radius: 15px;
    padding: 1.5rem;
    margin-bottom: 1.5rem;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
  }
  
  .activity-item::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 4px;
    height: 100%;
    background: linear-gradient(135deg, #667eea, #764ba2);
  }
  
  .activity-item:hover {
    transform: translateX(5px);
    box-shadow: 0 5px 15px rgba(102, 126, 234, 0.2);
  }
  
  .activity-icon {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-right: 1rem;
    font-size: 1.2rem;
  }
  
  .workout-icon {
    background: linear-gradient(135deg, #ff6b6b, #ee5a52);
    color: white;
  }
  
  .goal-icon {
    background: linear-gradient(135deg, #51cf66, #40c057);
    color: white;
  }
  
  .weight-icon {
    background: linear-gradient(135deg, #339af0, #228be6);
    color: white;
  }
  
  /* Progress Bars */
  .modern-progress {
    height: 12px;
    border-radius: 10px;
    background: rgba(0,0,0,0.1);
    overflow: hidden;
    position: relative;
  }
  
  .modern-progress-bar {
    height: 100%;
    border-radius: 10px;
    background: linear-gradient(90deg, #667eea, #764ba2);
    position: relative;
    overflow: hidden;
    transition: width 1s ease;
  }
  
  .modern-progress-bar::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
    animation: progressShine 2s infinite;
  }
  
  @keyframes progressShine {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(100%); }
  }
  
  /* Chart Container */
  .chart-wrapper {
    position: relative;
    height: 400px;
    background: linear-gradient(135deg, rgba(255,255,255,0.95), rgba(255,255,255,0.9));
    border-radius: 20px;
    padding: 1.5rem;
    backdrop-filter: blur(10px);
    border: 1px solid rgba(102, 126, 234, 0.1);
    box-shadow: 0 8px 32px rgba(102, 126, 234, 0.08);
    transition: all 0.3s ease;
  }
  
  .chart-wrapper:hover {
    transform: translateY(-2px);
    box-shadow: 0 12px 40px rgba(102, 126, 234, 0.12);
  }
  
  /* Motivational Quote */
  .quote-section {
    background: linear-gradient(135deg, #667eea, #764ba2);
    color: white;
    padding: 3rem 2rem;
    border-radius: 20px;
    text-align: center;
    margin: 3rem 0;
    position: relative;
    overflow: hidden;
  }
  
  .quote-section::before {
    content: '"';
    position: absolute;
    top: -10px;
    left: 20px;
    font-size: 8rem;
    opacity: 0.1;
    font-family: serif;
  }
  
  .quote-text {
    font-size: 1.3rem;
    font-style: italic;
    margin-bottom: 1rem;
    position: relative;
    z-index: 2;
  }
  
  .quote-author {
    font-size: 1rem;
    opacity: 0.8;
    position: relative;
    z-index: 2;
  }
  
  /* Floating Action Button */
  .fab {
    position: fixed;
    bottom: 2rem;
    right: 2rem;
    width: 60px;
    height: 60px;
    border-radius: 50%;
    background: linear-gradient(135deg, #667eea, #764ba2);
    color: white;
    border: none;
    font-size: 1.5rem;
    box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
    transition: all 0.3s ease;
    z-index: 1000;
  }
  
  .fab:hover {
    transform: scale(1.1) rotate(15deg);
    box-shadow: 0 12px 35px rgba(102, 126, 234, 0.6);
  }
  
  /* Animations */
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  .animate-fade-in {
    animation: fadeInUp 0.6s ease forwards;
  }
  
  .animate-delay-1 { animation-delay: 0.1s; }
  .animate-delay-2 { animation-delay: 0.2s; }
  .animate-delay-3 { animation-delay: 0.3s; }
  .animate-delay-4 { animation-delay: 0.4s; }
  
  /* Video Card Styles */
  .video-card {
    background: linear-gradient(135deg, rgba(255,255,255,0.95), rgba(255,255,255,0.9));
    border-radius: 15px;
    overflow: hidden;
    transition: all 0.3s ease;
    cursor: pointer;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
  }
  
  .video-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 25px rgba(0,0,0,0.15);
  }
  
  .video-thumbnail {
    position: relative;
    overflow: hidden;
  }
  
  .video-thumbnail img {
    width: 100%;
    height: 200px;
    object-fit: cover;
    transition: transform 0.3s ease;
  }
  
  .video-card:hover .video-thumbnail img {
    transform: scale(1.05);
  }
  
  .play-overlay {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 60px;
    height: 60px;
    background: rgba(0,0,0,0.7);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 1.5rem;
    transition: all 0.3s ease;
  }
  
  .video-card:hover .play-overlay {
    background: rgba(102, 126, 234, 0.9);
    transform: translate(-50%, -50%) scale(1.1);
  }
  
  .video-duration {
    position: absolute;
    bottom: 10px;
    right: 10px;
    background: rgba(0,0,0,0.8);
    color: white;
    padding: 2px 6px;
    border-radius: 4px;
    font-size: 0.8rem;
  }
  
  .video-info {
    padding: 1rem;
  }
  
  .video-title {
    font-size: 1rem;
    font-weight: 700;
    margin-bottom: 0.6rem;
    color: #333;
    line-height: 1.3;
    letter-spacing: 0.2px;
  }
  
  .video-description {
    color: #666;
    font-size: 0.9rem;
    font-weight: 500;
    margin-bottom: 0.5rem;
    line-height: 1.5;
    letter-spacing: 0.1px;
  }
  
  .video-stats {
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }
  
  .video-stats .badge {
    font-size: 0.7rem;
  }
  
  .video-stats .text-muted {
    font-size: 0.8rem;
  }
  
  /* Achievements and Gamification Styles */
  .achievements-section {
    background: linear-gradient(135deg, rgba(255,255,255,0.98), rgba(255,255,255,0.95));
    border: 1px solid rgba(102, 126, 234, 0.2);
    box-shadow: 0 10px 30px rgba(102, 126, 234, 0.1);
  }
  
  .bg-gradient-achievement {
    background: linear-gradient(135deg, #667eea, #764ba2, #f093fb);
    position: relative;
    overflow: hidden;
  }
  
  .bg-gradient-achievement::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
    animation: shimmer 3s infinite;
  }
  
  @keyframes shimmer {
    0% { left: -100%; }
    100% { left: 100%; }
  }
  
  .level-progress-card {
    background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(118, 75, 162, 0.1));
    border: 2px solid rgba(102, 126, 234, 0.2);
    border-radius: 15px;
    padding: 1.5rem;
    text-align: center;
    position: relative;
    overflow: hidden;
  }
  
  .level-progress-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(45deg, rgba(102, 126, 234, 0.05), rgba(118, 75, 162, 0.05));
    z-index: 1;
  }
  
  .level-info {
    position: relative;
    z-index: 2;
    margin-bottom: 1rem;
  }
  
  .level-number {
    font-size: 2.5rem;
    font-weight: 900;
    background: linear-gradient(45deg, #667eea, #764ba2);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    margin-bottom: 0.5rem;
  }
  
  .level-title {
    font-size: 1.1rem;
    font-weight: 600;
    color: #667eea;
    text-transform: uppercase;
    letter-spacing: 1px;
  }
  
  .xp-progress {
    position: relative;
    z-index: 2;
  }
  
  .xp-bar {
    height: 12px;
    background: rgba(102, 126, 234, 0.2);
    border-radius: 10px;
    overflow: hidden;
    margin-bottom: 0.5rem;
    position: relative;
  }
  
  .xp-fill {
    height: 100%;
    background: linear-gradient(90deg, #667eea, #764ba2);
    border-radius: 10px;
    position: relative;
    transition: width 2s ease;
    overflow: hidden;
  }
  
  .xp-fill::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
    animation: xpShine 2s infinite;
  }
  
  @keyframes xpShine {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(100%); }
  }
  
  .xp-text {
    font-size: 0.9rem;
    font-weight: 600;
    color: #667eea;
  }
  
  .badges-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
    gap: 1rem;
    padding: 1rem;
  }
  
  .badge-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 1rem;
    border-radius: 15px;
    transition: all 0.3s ease;
    cursor: pointer;
    position: relative;
    overflow: hidden;
  }
  
  .badge-item.earned {
    background: linear-gradient(135deg, rgba(81, 207, 102, 0.1), rgba(64, 192, 87, 0.1));
    border: 2px solid rgba(81, 207, 102, 0.3);
    transform: scale(1);
  }
  
  .badge-item.earned:hover {
    transform: scale(1.05) translateY(-5px);
    box-shadow: 0 10px 25px rgba(81, 207, 102, 0.3);
  }
  
  .badge-item.locked {
    background: rgba(0,0,0,0.05);
    border: 2px solid rgba(0,0,0,0.1);
    opacity: 0.6;
  }
  
  .badge-item.locked:hover {
    transform: scale(1.02);
    opacity: 0.8;
  }
  
  .badge-icon {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    margin-bottom: 0.5rem;
    transition: all 0.3s ease;
  }
  
  .badge-item.earned .badge-icon {
    background: linear-gradient(135deg, #51cf66, #40c057);
    color: white;
    box-shadow: 0 5px 15px rgba(81, 207, 102, 0.4);
  }
  
  .badge-item.locked .badge-icon {
    background: #ccc;
    color: #999;
  }
  
  .badge-item.earned:hover .badge-icon {
    transform: scale(1.1) rotate(10deg);
    box-shadow: 0 8px 20px rgba(81, 207, 102, 0.6);
  }
  
  .badge-name {
    font-size: 0.8rem;
    font-weight: 600;
    text-align: center;
    line-height: 1.2;
  }
  
  .badge-item.earned .badge-name {
    color: #40c057;
  }
  
  .badge-item.locked .badge-name {
    color: #999;
  }
  
  /* Badge unlock animation */
  @keyframes badgeUnlock {
    0% {
      transform: scale(0.8) rotate(-10deg);
      opacity: 0;
    }
    50% {
      transform: scale(1.2) rotate(5deg);
    }
    100% {
      transform: scale(1) rotate(0deg);
      opacity: 1;
    }
  }
  
  .badge-item.newly-earned {
    animation: badgeUnlock 0.6s ease-out;
  }
  
  /* Sparkle effect for earned badges */
  .badge-item.earned::before {
    content: '✨';
    position: absolute;
    top: 5px;
    right: 5px;
    font-size: 0.8rem;
    opacity: 0;
    animation: sparkle 2s infinite;
  }
  
  @keyframes sparkle {
     0%, 100% { opacity: 0; transform: scale(0.8) rotate(0deg); }
     50% { opacity: 1; transform: scale(1.2) rotate(180deg); }
   }
   
   /* Achievement Notifications */
   .achievement-notification {
     position: fixed;
     top: 20px;
     right: 20px;
     background: linear-gradient(135deg, #51cf66, #40c057);
     color: white;
     padding: 1rem 1.5rem;
     border-radius: 15px;
     box-shadow: 0 10px 30px rgba(81, 207, 102, 0.4);
     transform: translateX(400px);
     opacity: 0;
     transition: all 0.3s ease;
     z-index: 1000;
     min-width: 300px;
   }
   
   .achievement-notification.show {
     transform: translateX(0);
     opacity: 1;
   }
   
   .achievement-content {
     display: flex;
     align-items: center;
     gap: 1rem;
   }
   
   .achievement-content i {
     font-size: 2rem;
     animation: bounce 0.6s ease infinite alternate;
   }
   
   .achievement-title {
     font-weight: 700;
     font-size: 1.1rem;
     margin-bottom: 0.25rem;
   }
   
   .achievement-badge {
     font-size: 0.9rem;
     opacity: 0.9;
   }
   
   @keyframes bounce {
     0% { transform: translateY(0); }
     100% { transform: translateY(-5px); }
   }
   
   /* Level Up Notifications */
   .level-up-notification {
     position: fixed;
     top: 50%;
     left: 50%;
     transform: translate(-50%, -50%) scale(0.8);
     background: linear-gradient(135deg, #667eea, #764ba2, #f093fb);
     color: white;
     padding: 2rem 3rem;
     border-radius: 20px;
     box-shadow: 0 20px 50px rgba(102, 126, 234, 0.4);
     opacity: 0;
     transition: all 0.3s ease;
     z-index: 1001;
     text-align: center;
   }
   
   .level-up-notification.show {
     transform: translate(-50%, -50%) scale(1);
     opacity: 1;
   }
   
   .level-up-content {
     display: flex;
     flex-direction: column;
     align-items: center;
     gap: 1rem;
   }
   
   .level-up-content i {
     font-size: 3rem;
     animation: rotate 1s ease infinite;
   }
   
   .level-up-title {
     font-weight: 900;
     font-size: 2rem;
     text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
     letter-spacing: 2px;
   }
   
   .level-up-info {
     font-size: 1.2rem;
     opacity: 0.9;
   }
   
   @keyframes rotate {
     0% { transform: rotate(0deg) scale(1); }
     50% { transform: rotate(180deg) scale(1.1); }
     100% { transform: rotate(360deg) scale(1); }
   }
   
   @keyframes pulse {
     0% { transform: scale(1); }
     50% { transform: scale(1.05); }
     100% { transform: scale(1); }
   }
   
   /* Chart Card Styles */
   .chart-card {
     background: linear-gradient(135deg, rgba(255,255,255,0.98), rgba(255,255,255,0.95));
     border: 1px solid rgba(102, 126, 234, 0.1);
     box-shadow: 0 10px 30px rgba(102, 126, 234, 0.08);
     overflow: hidden;
     transition: all 0.3s ease;
     border-radius: 20px;
   }
   
   .chart-card:hover {
     transform: translateY(-3px);
     box-shadow: 0 15px 40px rgba(102, 126, 234, 0.15);
     border-color: rgba(102, 126, 234, 0.2);
   }
   
   .bg-gradient-chart {
     background: linear-gradient(135deg, #667eea, #764ba2);
     position: relative;
   }
   
   .bg-gradient-goals {
     background: linear-gradient(135deg, #f093fb, #f5576c);
   }
   
   .bg-gradient-activity {
     background: linear-gradient(135deg, #4facfe, #00f2fe);
   }
   
   .bg-gradient-performance {
     background: linear-gradient(135deg, #43e97b, #38f9d7);
   }
   
   .chart-controls {
     display: flex;
     gap: 0.5rem;
     align-items: center;
   }
   
   .chart-controls .btn {
     border-radius: 25px;
     padding: 0.4rem 1rem;
     font-size: 0.85rem;
     font-weight: 600;
     transition: all 0.3s ease;
     border: 2px solid rgba(255,255,255,0.3);
     backdrop-filter: blur(5px);
   }
   
   .chart-controls .btn:hover {
     transform: translateY(-2px);
     box-shadow: 0 8px 20px rgba(255,255,255,0.4);
     border-color: rgba(255,255,255,0.6);
   }
   
   .chart-controls .btn.active {
     background: rgba(255,255,255,0.9) !important;
     color: #667eea !important;
     border-color: rgba(255,255,255,0.8);
     box-shadow: 0 4px 15px rgba(255,255,255,0.3);
   }
   
   /* Goal Stats */
   .goal-stats {
     display: flex;
     flex-direction: column;
     gap: 1rem;
     padding: 0.5rem 0;
   }
   
   .goal-stat-item {
     display: flex;
     justify-content: space-between;
     align-items: center;
     padding: 0.75rem 1rem;
     background: linear-gradient(135deg, rgba(255,255,255,0.8), rgba(255,255,255,0.6));
     border-radius: 12px;
     border: 1px solid rgba(0,0,0,0.05);
     transition: all 0.3s ease;
     backdrop-filter: blur(5px);
   }
   
   .goal-stat-item:hover {
     transform: translateX(5px);
     box-shadow: 0 4px 15px rgba(0,0,0,0.1);
     background: linear-gradient(135deg, rgba(255,255,255,0.9), rgba(255,255,255,0.8));
   }
   
   .goal-stat-item:last-child {
     border-bottom: none;
   }
   
   .goal-stat-label {
     font-weight: 600;
     color: #555;
     font-size: 0.95rem;
   }
   
   .goal-stat-value {
     font-weight: 800;
     font-size: 1.2rem;
     letter-spacing: -0.5px;
   }
   
   /* Activity Heatmap */
   .heatmap-container {
     padding: 1.5rem 0;
     background: linear-gradient(135deg, rgba(255,255,255,0.5), rgba(255,255,255,0.3));
     border-radius: 15px;
     margin: 1rem 0;
   }
   
   .heatmap-grid {
     display: grid;
     grid-template-columns: repeat(53, 1fr);
     gap: 3px;
     margin-bottom: 1.5rem;
     padding: 0 1rem;
   }
   
   .heatmap-cell {
     width: 14px;
     height: 14px;
     border-radius: 3px;
     background: #eee;
     transition: all 0.3s ease;
     cursor: pointer;
     position: relative;
   }
   
   .heatmap-cell:hover {
     transform: scale(1.3);
     border: 2px solid #333;
     z-index: 10;
     box-shadow: 0 4px 12px rgba(0,0,0,0.2);
   }
   
   .heatmap-cell[data-level="0"] { background: #ebedf0; }
   .heatmap-cell[data-level="1"] { background: #9be9a8; }
   .heatmap-cell[data-level="2"] { background: #40c463; }
   .heatmap-cell[data-level="3"] { background: #30a14e; }
   .heatmap-cell[data-level="4"] { background: #216e39; }
   
   .heatmap-legend {
     display: flex;
     align-items: center;
     justify-content: center;
     gap: 0.75rem;
     font-size: 0.85rem;
     color: #555;
     font-weight: 500;
     padding: 0 1rem;
   }
   
   .legend-colors {
     display: flex;
     gap: 3px;
     padding: 0.5rem;
     background: rgba(255,255,255,0.6);
     border-radius: 8px;
     backdrop-filter: blur(5px);
   }
   
   .legend-color {
     width: 14px;
     height: 14px;
     border-radius: 3px;
     transition: all 0.2s ease;
     cursor: pointer;
   }
   
   .legend-color:hover {
     transform: scale(1.2);
     box-shadow: 0 2px 8px rgba(0,0,0,0.2);
   }
   
   .legend-color[data-level="0"] { background: #ebedf0; }
   .legend-color[data-level="1"] { background: #9be9a8; }
   .legend-color[data-level="2"] { background: #40c463; }
   .legend-color[data-level="3"] { background: #30a14e; }
   .legend-color[data-level="4"] { background: #216e39; }
   
   /* Performance Metrics */
   .performance-grid {
     display: grid;
     grid-template-columns: repeat(2, 1fr);
     gap: 1.5rem;
     padding: 0.5rem;
   }
   
   .performance-item {
     display: flex;
     align-items: center;
     gap: 1.25rem;
     padding: 1.5rem;
     background: linear-gradient(135deg, rgba(67, 233, 123, 0.12), rgba(56, 249, 215, 0.12));
     border-radius: 16px;
     border: 1px solid rgba(67, 233, 123, 0.25);
     transition: all 0.4s ease;
     position: relative;
     overflow: hidden;
   }
   
   .performance-item::before {
     content: '';
     position: absolute;
     top: 0;
     left: -100%;
     width: 100%;
     height: 100%;
     background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
     transition: all 0.6s ease;
   }
   
   .performance-item:hover {
     transform: translateY(-5px);
     box-shadow: 0 12px 35px rgba(67, 233, 123, 0.25);
     border-color: rgba(67, 233, 123, 0.4);
   }
   
   .performance-item:hover::before {
     left: 100%;
   }
   
   .performance-icon {
     width: 60px;
     height: 60px;
     border-radius: 50%;
     background: linear-gradient(135deg, #43e97b, #38f9d7);
     display: flex;
     align-items: center;
     justify-content: center;
     color: white;
     font-size: 1.6rem;
     flex-shrink: 0;
     box-shadow: 0 4px 15px rgba(67, 233, 123, 0.3);
     transition: all 0.3s ease;
   }
   
   .performance-item:hover .performance-icon {
     transform: scale(1.1) rotate(5deg);
     box-shadow: 0 6px 20px rgba(67, 233, 123, 0.4);
   }
   
   .performance-data {
     flex: 1;
     position: relative;
     z-index: 2;
   }
   
   .performance-value {
     font-size: 1.8rem;
     font-weight: 900;
     color: #43e97b;
     line-height: 1;
     letter-spacing: -1px;
     text-shadow: 0 2px 4px rgba(67, 233, 123, 0.2);
     transition: all 0.3s ease;
   }
   
   .performance-item:hover .performance-value {
     transform: scale(1.05);
     color: #38f9d7;
   }
   
   .performance-label {
     font-size: 0.95rem;
     color: #555;
     margin: 0.5rem 0;
     font-weight: 600;
     text-transform: uppercase;
     letter-spacing: 0.5px;
   }
   
   .performance-change {
     font-size: 0.85rem;
     font-weight: 700;
     padding: 0.25rem 0.75rem;
     border-radius: 20px;
     display: inline-block;
     backdrop-filter: blur(5px);
   }
   
   .performance-change.positive {
     color: #43e97b;
     background: rgba(67, 233, 123, 0.1);
     border: 1px solid rgba(67, 233, 123, 0.2);
   }
   
   .performance-change.negative {
     color: #f5576c;
     background: rgba(245, 87, 108, 0.1);
     border: 1px solid rgba(245, 87, 108, 0.2);
   }
   
   .performance-change.neutral {
     color: #6c757d;
     background: rgba(108, 117, 125, 0.1);
     border: 1px solid rgba(108, 117, 125, 0.2);
   }
   
   .performance-change::before {
     content: '↗';
     margin-right: 0.5rem;
     font-size: 1rem;
   }
   
   .performance-change.negative::before {
     content: '↘';
   }
   
   .performance-change.neutral::before {
     content: '→';
   }
   
   /* Motivational Widgets */
   .motivational-widget {
     background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
     border-radius: 15px;
     padding: 1.5rem;
     color: white;
     box-shadow: 0 8px 32px rgba(102, 126, 234, 0.3);
     transition: all 0.3s ease;
     height: 100%;
     position: relative;
     overflow: hidden;
   }
   
   .motivational-widget::before {
     content: '';
     position: absolute;
     top: -50%;
     left: -50%;
     width: 200%;
     height: 200%;
     background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
     transform: rotate(45deg);
     transition: all 0.6s ease;
     opacity: 0;
   }
   
   .motivational-widget:hover::before {
     animation: shimmer 1.5s ease-in-out;
   }
   
   .motivational-widget:hover {
     transform: translateY(-5px);
     box-shadow: 0 12px 40px rgba(102, 126, 234, 0.4);
   }
   
   .widget-header {
     display: flex;
     align-items: center;
     margin-bottom: 1rem;
   }
   
   .widget-icon {
     font-size: 1.2rem;
     margin-right: 0.5rem;
     color: #ffd700;
   }
   
   .widget-title {
     margin: 0;
     font-weight: 700;
     font-size: 1rem;
     text-transform: uppercase;
     letter-spacing: 0.8px;
     line-height: 1.3;
   }
   
   /* Quote Widget */
   .quote-widget {
     background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
   }
   
   .quote-text {
     font-size: 1rem;
     font-style: italic;
     line-height: 1.4;
     margin-bottom: 0.5rem;
   }
   
   .quote-author {
     font-size: 0.8rem;
     opacity: 0.8;
     margin-bottom: 1rem;
   }
   
   /* Challenge Widget */
   .challenge-widget {
     background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
   }
   
   .challenge-title {
     font-size: 1.1rem;
     font-weight: 600;
     margin-bottom: 1rem;
   }
   
   .challenge-progress {
     margin-bottom: 1rem;
   }
   
   .progress-bar-container {
     background: rgba(255,255,255,0.2);
     border-radius: 10px;
     height: 8px;
     margin-bottom: 0.5rem;
     overflow: hidden;
   }
   
   .progress-bar {
     background: linear-gradient(90deg, #43e97b 0%, #38f9d7 100%);
     height: 100%;
     border-radius: 10px;
     transition: width 0.3s ease;
     position: relative;
   }
   
   .progress-bar::after {
     content: '';
     position: absolute;
     top: 0;
     left: -100%;
     width: 100%;
     height: 100%;
     background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
     animation: progressShine 2s infinite;
   }
   
   .progress-text {
     font-size: 0.8rem;
     opacity: 0.9;
   }
   
   /* Streak Widget */
   .streak-widget {
     background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
     color: #333;
   }
   
   .streak-widget .widget-icon {
     color: #ff6b6b;
   }
   
   .streak-number {
     font-size: 3rem;
     font-weight: 700;
     text-align: center;
     color: #ff6b6b;
     margin-bottom: 0.5rem;
   }
   
   .streak-label {
     text-align: center;
     font-weight: 600;
     margin-bottom: 1rem;
     color: #666;
   }
   
   .streak-visual {
     text-align: center;
     margin-bottom: 1rem;
   }
   
   .streak-flames {
     display: flex;
     justify-content: center;
     gap: 0.25rem;
   }
   
   .flame-icon {
     font-size: 1.2rem;
     color: #ddd;
     transition: all 0.3s ease;
   }
   
   .flame-icon.active {
     color: #ff6b6b;
     animation: flicker 1.5s infinite alternate;
   }
   
   .streak-message {
     text-align: center;
     font-size: 0.9rem;
     color: #666;
     font-weight: 500;
   }
   
   /* Tip Widget */
   .tip-widget {
     background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
     color: #333;
   }
   
   .tip-widget .widget-icon {
     color: #ffa726;
   }
   
   .tip-text {
     font-size: 1rem;
     line-height: 1.5;
     margin-bottom: 1rem;
     color: #555;
   }
   
   .tip-category {
     margin-bottom: 1rem;
   }
   
   /* Animations */
   @keyframes flicker {
     0%, 100% { opacity: 1; transform: scale(1); }
     50% { opacity: 0.8; transform: scale(1.1); }
   }
   
   @keyframes progressShine {
       0% { left: -100%; }
       100% { left: 100%; }
     }
     

  
  /* Responsive Design */
  @media (max-width: 768px) {
    .hero-title {
      font-size: 2.5rem;
    }
    
    .stat-card {
      margin-bottom: 1rem;
    }
    
    .hero-section {
      padding: 2rem 0;
    }
    
    .video-thumbnail img {
      height: 150px;
    }
    
    .badges-container {
      grid-template-columns: repeat(3, 1fr);
      gap: 0.5rem;
    }
    
    .badge-item {
      padding: 0.8rem 0.5rem;
    }
    
    .badge-icon {
      width: 40px;
      height: 40px;
      font-size: 1.2rem;
    }
    
    .level-number {
      font-size: 2rem;
    }
    
    .level-progress-card {
       padding: 1rem;
     }
     
     .chart-controls {
       flex-wrap: wrap;
       gap: 0.25rem;
     }
     
     .chart-controls .btn {
       font-size: 0.7rem;
       padding: 0.2rem 0.5rem;
     }
     
     .performance-grid {
       grid-template-columns: 1fr;
       gap: 0.75rem;
     }
     
     .performance-item {
       padding: 0.75rem;
     }
     
     .performance-icon {
       width: 40px;
       height: 40px;
       font-size: 1.2rem;
     }
     
     .performance-value {
       font-size: 1.2rem;
     }
     
     .heatmap-grid {
       grid-template-columns: repeat(26, 1fr);
     }
     
     .heatmap-cell {
       width: 8px;
       height: 8px;
     }
     
     .legend-color {
       width: 8px;
       height: 8px;
     }
     
     .goal-stats {
       gap: 0.5rem;
     }
     
     .goal-stat-item {
       padding: 0.4rem 0;
     }
     
     /* Motivational Widgets Mobile */
     .motivational-widget {
       padding: 1rem;
       margin-bottom: 1rem;
     }
     
     .widget-title {
       font-size: 0.8rem;
     }
     
     .quote-text {
       font-size: 0.9rem;
     }
     
     .challenge-title {
       font-size: 1rem;
     }
     
     .streak-number {
       font-size: 2.5rem;
     }
     
     .streak-flames {
       gap: 0.15rem;
     }
     
     .flame-icon {
       font-size: 1rem;
     }
     
     .tip-text {
       font-size: 0.9rem;
     }
     
     .progress-bar-container {
       height: 6px;
     }
     

     
     /* Social Widget Mobile */
     .social-sharing-widget {
       width: calc(100vw - 40px);
       max-width: 400px;
     }
     
     .social-trigger-btn {
       bottom: 80px;
       right: 15px;
       width: 50px;
       height: 50px;
       font-size: 1.2rem;
     }
   }
   
   @media (max-width: 480px) {
     .hero-title {
       font-size: 2rem;
     }
     
     .stat-card {
       padding: 1rem;
     }
     

      
     /* Social Widget Mobile */
    .social-sharing-widget {
      width: calc(100vw - 20px);
      margin: 0 10px;
      max-height: 80vh;
      overflow-y: auto;
    }
    
    .social-trigger-btn {
      bottom: 70px;
      right: 10px;
      width: 45px;
      height: 45px;
      font-size: 1rem;
    }
   }
   
   /* Enhanced Typography and Spacing */
   .motivational-widget {
     padding: 2rem;
     margin-bottom: 2rem;
     border-radius: 20px;
     box-shadow: 0 10px 30px rgba(0,0,0,0.1);
   }
   
   .widget-header {
     margin-bottom: 1.5rem;
     display: flex;
     align-items: center;
     gap: 0.75rem;
   }
   
   .widget-title {
     font-size: 1.1rem;
     font-weight: 600;
     margin: 0;
     color: #333;
   }
   
   .widget-icon {
     font-size: 1.3rem;
   }
   
   .video-card {
     margin-bottom: 1.5rem;
   }
   
   .video-info {
     padding: 1.5rem;
   }
   
   .video-title {
     font-size: 1.2rem;
     font-weight: 600;
     margin-bottom: 0.75rem;
     color: #333;
   }
   
   .video-description {
     color: #666;
     margin-bottom: 1rem;
     line-height: 1.5;
   }
   
   .video-stats {
     display: flex;
     align-items: center;
     gap: 0.75rem;
   }
    
    /* Z-Index Hierarchy Fix */
    .social-trigger-btn {
      z-index: 1020 !important;
    }
    
    .theme-toggle {
      z-index: 1030 !important;
    }
    
    /* Social Sharing Widget */
    .social-sharing-widget {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 450px;
      max-height: 80vh;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border-radius: 20px;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
      z-index: 1060;
      display: none;
      overflow: hidden;
      backdrop-filter: blur(10px);
    }
    
    .social-sharing-widget.show {
      display: block;
      animation: socialSlideIn 0.3s ease-out;
    }
    
    @keyframes socialSlideIn {
      from {
        opacity: 0;
        transform: translate(-50%, -50%) scale(0.9);
      }
      to {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1);
      }
    }
    
    .social-header {
      background: rgba(255, 255, 255, 0.1);
      padding: 1rem 1.5rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .social-header h6 {
      color: white;
      margin: 0;
      font-weight: 600;
    }
    
    .btn-close-social {
      background: none;
      border: none;
      color: white;
      font-size: 1.2rem;
      cursor: pointer;
      padding: 0.25rem;
      border-radius: 50%;
      transition: all 0.3s ease;
    }
    
    .btn-close-social:hover {
      background: rgba(255, 255, 255, 0.2);
      transform: rotate(90deg);
    }
    
    .sharing-content {
      padding: 1.5rem;
      max-height: calc(80vh - 80px);
      overflow-y: auto;
    }
    
    .achievement-preview {
      background: rgba(255, 255, 255, 0.95);
      border-radius: 15px;
      padding: 1.5rem;
      margin-bottom: 1.5rem;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
    }
    
    .preview-header {
      display: flex;
      align-items: center;
      margin-bottom: 1rem;
    }
    
    .user-avatar {
      font-size: 2.5rem;
      color: #667eea;
      margin-right: 1rem;
    }
    
    .username {
      font-weight: 600;
      color: #333;
      font-size: 1.1rem;
    }
    
    .timestamp {
      color: #666;
      font-size: 0.9rem;
    }
    
    .achievement-card {
      display: flex;
      align-items: center;
      background: linear-gradient(135deg, #ffeaa7 0%, #fab1a0 100%);
      padding: 1rem;
      border-radius: 12px;
      margin-bottom: 1rem;
    }
    
    .achievement-icon {
      font-size: 2rem;
      color: #e17055;
      margin-right: 1rem;
    }
    
    .achievement-text h5 {
      margin: 0;
      color: #2d3436;
      font-weight: 600;
    }
    
    .achievement-text p {
      margin: 0.25rem 0 0 0;
      color: #636e72;
    }
    
    .preview-stats {
      display: flex;
      justify-content: space-around;
      text-align: center;
    }
    
    .stat-item {
      display: flex;
      flex-direction: column;
    }
    
    .stat-value {
      font-size: 1.5rem;
      font-weight: 700;
      color: #667eea;
    }
    
    .stat-label {
      font-size: 0.8rem;
      color: #666;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    
    .share-text {
      margin-bottom: 1.5rem;
    }
    
    .share-text textarea {
      width: 100%;
      height: 80px;
      background: rgba(255, 255, 255, 0.9);
      border: 2px solid rgba(255, 255, 255, 0.3);
      border-radius: 12px;
      padding: 1rem;
      font-size: 0.9rem;
      resize: none;
      color: #333;
    }
    
    .share-text textarea:focus {
      outline: none;
      border-color: rgba(255, 255, 255, 0.8);
      background: white;
    }
    
    .social-platforms {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 0.75rem;
      margin-bottom: 1.5rem;
    }
    
    .social-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 0.75rem 1rem;
      border: none;
      border-radius: 12px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      text-decoration: none;
      color: white;
    }
    
    .social-btn i {
      margin-right: 0.5rem;
      font-size: 1.1rem;
    }
    
    .social-btn.facebook {
      background: linear-gradient(135deg, #3b5998, #8b9dc3);
    }
    
    .social-btn.twitter {
      background: linear-gradient(135deg, #1da1f2, #0d8bd9);
    }
    
    .social-btn.instagram {
      background: linear-gradient(135deg, #e4405f, #f093fb);
    }
    
    .social-btn.linkedin {
      background: linear-gradient(135deg, #0077b5, #00a0dc);
    }
    
    .social-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
    }
    
    .quick-actions {
      display: flex;
      gap: 0.75rem;
    }
    
    .quick-actions .btn {
      flex: 1;
      border-radius: 12px;
      font-weight: 600;
      transition: all 0.3s ease;
    }
    
    .quick-actions .btn:hover {
      transform: translateY(-1px);
    }
    
    .social-trigger-btn {
      position: fixed;
      bottom: 120px;
      right: 20px;
      width: 60px;
      height: 60px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border: none;
      border-radius: 50%;
      color: white;
      font-size: 1.5rem;
      cursor: pointer;
      box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
      transition: all 0.3s ease;
      animation: socialPulse 2s infinite;
    }
    
    .social-trigger-btn:hover {
      transform: scale(1.1);
      box-shadow: 0 12px 35px rgba(102, 126, 234, 0.6);
    }
    
    @keyframes socialPulse {
      0%, 100% {
        box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
      }
      50% {
        box-shadow: 0 8px 25px rgba(102, 126, 234, 0.6), 0 0 0 10px rgba(102, 126, 234, 0.1);
      }
    }
    
    /* Dashboard Mobile Responsive */
    @media (max-width: 768px) {
      .hero-section {
        padding: 2rem 1rem;
        margin-bottom: 2rem;
      }
      
      .hero-title {
        font-size: 2.2rem;
        font-weight: 800;
        margin-bottom: 1rem;
        line-height: 1.2;
        letter-spacing: -0.3px;
      }
      
      .hero-subtitle {
        font-size: 1.1rem;
        font-weight: 500;
        margin-bottom: 1.5rem;
        line-height: 1.5;
        letter-spacing: 0.1px;
      }
      
      .widget-title {
        font-size: 0.9rem;
        letter-spacing: 0.6px;
        margin-bottom: 0.8rem;
      }
      
      .video-title {
        font-size: 0.9rem;
        margin-bottom: 0.5rem;
        letter-spacing: 0.1px;
      }
      
      .video-description {
        font-size: 0.85rem;
        line-height: 1.4;
      }
      
      /* Chart and Data Visualization Mobile Styles */
      .chart-wrapper {
        height: 300px;
        padding: 1rem;
        margin: 0.5rem 0;
      }
      
      .chart-card {
        margin-bottom: 1.5rem;
      }
      
      .chart-controls {
        flex-wrap: wrap;
        gap: 0.25rem;
      }
      
      .chart-controls .btn {
        padding: 0.3rem 0.75rem;
        font-size: 0.8rem;
      }
      
      .performance-grid {
        grid-template-columns: 1fr;
        gap: 1rem;
        padding: 0;
      }
      
      .performance-item {
        padding: 1rem;
        gap: 1rem;
      }
      
      .performance-icon {
        width: 50px;
        height: 50px;
        font-size: 1.4rem;
      }
      
      .performance-value {
        font-size: 1.5rem;
      }
      
      .performance-label {
        font-size: 0.85rem;
      }
      
      .heatmap-container {
        padding: 1rem 0;
        margin: 0.5rem 0;
      }
      
      .heatmap-grid {
        grid-template-columns: repeat(26, 1fr);
        gap: 2px;
        padding: 0 0.5rem;
      }
      
      .heatmap-cell {
        width: 10px;
        height: 10px;
      }
      
      .legend-color {
        width: 12px;
        height: 12px;
      }
      
      .goal-stats {
        gap: 0.75rem;
      }
      
      .goal-stat-item {
        padding: 0.5rem 0.75rem;
      }
      
      .goal-stat-value {
        font-size: 1.1rem;
      }
      
      .stat-card {
        padding: 1.2rem;
        margin-bottom: 1rem;
        min-height: 100px;
      }
      
      .stat-number {
        font-size: 1.8rem;
        margin-bottom: 0.4rem;
      }
      
      .stat-label {
        font-size: 0.8rem;
      }
      
      .modern-card {
        margin-bottom: 1.2rem;
      }
      
      .modern-card-header {
        padding: 1rem;
      }
      
      .modern-card-body {
        padding: 1rem;
      }
      
      .video-card {
        margin-bottom: 1rem;
      }
      
      .motivational-widget {
        padding: 1rem;
        margin-bottom: 1rem;
      }
      
      .widget-title {
        font-size: 1rem;
      }
    }
    
    @media (max-width: 576px) {
      .hero-section {
        padding: 1.5rem 0.8rem;
        margin-bottom: 1.5rem;
      }
      
      .hero-title {
        font-size: 1.8rem;
        margin-bottom: 0.8rem;
      }
      
      .hero-subtitle {
        font-size: 0.9rem;
        margin-bottom: 1.2rem;
      }
      
      .stat-card {
        padding: 1rem;
        margin-bottom: 0.8rem;
        min-height: 90px;
      }
      
      .stat-number {
        font-size: 1.6rem;
        margin-bottom: 0.3rem;
      }
      
      .stat-label {
        font-size: 0.75rem;
      }
      
      .modern-card-header {
        padding: 0.8rem;
      }
      
      .modern-card-body {
        padding: 0.8rem;
      }
      
      .motivational-widget {
        padding: 0.8rem;
        margin-bottom: 0.8rem;
      }
      
      .widget-title {
        font-size: 0.9rem;
      }
      
      .video-title {
        font-size: 0.9rem;
      }
      
      .video-description {
        font-size: 0.8rem;
      }
    }
  </style>
{% endblock %}

{% block content %}
<!-- Hero Section -->
<div class="hero-section">
  <div class="hero-content">
    <h1 class="hero-title">Welcome Back, Champion!</h1>
    <p class="hero-subtitle">Ready to crush your fitness goals today?</p>
    <div class="row justify-content-center">
      <div class="col-lg-2 col-md-4 col-sm-6 mb-3">
        <div class="stat-card workouts animate-fade-in animate-delay-1" onclick="animateCard(this)">
          <div class="stat-icon">
            <i class="fas fa-dumbbell"></i>
          </div>
          <div class="stat-number" id="totalWorkouts" data-target="0">0</div>
          <div class="stat-label">Total Workouts</div>
        </div>
      </div>
      <div class="col-lg-2 col-md-4 col-sm-6 mb-3">
        <div class="stat-card goals animate-fade-in animate-delay-2" onclick="animateCard(this)">
          <div class="stat-icon">
            <i class="fas fa-bullseye"></i>
          </div>
          <div class="stat-number" id="activeGoals" data-target="0">0</div>
          <div class="stat-label">Active Goals</div>
        </div>
      </div>
      <div class="col-lg-2 col-md-4 col-sm-6 mb-3">
        <div class="stat-card weight animate-fade-in animate-delay-3" onclick="animateCard(this)">
          <div class="stat-icon">
            <i class="fas fa-weight"></i>
          </div>
          <div class="stat-number" id="weightEntries" data-target="0">0</div>
          <div class="stat-label">Weight Entries</div>
        </div>
      </div>
      <div class="col-lg-2 col-md-4 col-sm-6 mb-3">
        <div class="stat-card streak animate-fade-in animate-delay-4" onclick="animateCard(this)">
          <div class="stat-icon">
            <i class="fas fa-fire"></i>
          </div>
          <div class="stat-number" id="streakDays" data-target="0">0</div>
          <div class="stat-label">Day Streak</div>
        </div>
      </div>
      <div class="col-lg-2 col-md-4 col-sm-6 mb-3">
        <div class="stat-card calories animate-fade-in animate-delay-5" onclick="animateCard(this)">
          <div class="stat-icon">
            <i class="fas fa-burn"></i>
          </div>
          <div class="stat-number" id="totalCalories" data-target="0">0</div>
          <div class="stat-label">Calories Burned</div>
        </div>
      </div>
      <div class="col-lg-2 col-md-4 col-sm-6 mb-3">
        <div class="stat-card time animate-fade-in animate-delay-6" onclick="animateCard(this)">
          <div class="stat-icon">
            <i class="fas fa-clock"></i>
          </div>
          <div class="stat-number" id="totalTime" data-target="0">0</div>
          <div class="stat-label">Hours Trained</div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Workout Video Tutorials Section -->
<div class="row mb-5">
  <div class="col-12">
    <div class="modern-card">
      <div class="modern-card-header">
        <h5 class="mb-0">
          <i class="fas fa-play-circle me-2"></i>
          Featured Workout Videos
        </h5>
      </div>
      <div class="modern-card-body">
        <div class="row">
          <div class="col-lg-4 col-md-6 mb-4">
            <div class="video-card" onclick="playVideo('pushups')">
              <div class="video-thumbnail">
                <img src="https://img.youtube.com/vi/IODxDxX7oi4/maxresdefault.jpg" alt="Push-ups Tutorial" class="img-fluid">
                <div class="play-overlay">
                  <i class="fas fa-play"></i>
                </div>
                <div class="video-duration">5:32</div>
              </div>
              <div class="video-info">
                <h6 class="video-title">Perfect Push-ups Form</h6>
                <p class="video-description">Master the fundamentals of push-ups</p>
                <div class="video-stats">
                  <span class="badge bg-primary">Beginner</span>
                  <span class="text-muted">• 2.1M views</span>
                </div>
              </div>
            </div>
          </div>
          <div class="col-lg-4 col-md-6 mb-3">
            <div class="video-card" onclick="playVideo('squats')">
              <div class="video-thumbnail">
                <img src="https://img.youtube.com/vi/YaXPRqUwItQ/maxresdefault.jpg" alt="Squats Tutorial" class="img-fluid">
                <div class="play-overlay">
                  <i class="fas fa-play"></i>
                </div>
                <div class="video-duration">7:15</div>
              </div>
              <div class="video-info">
                <h6 class="video-title">Proper Squat Technique</h6>
                <p class="video-description">Build strong legs with perfect form</p>
                <div class="video-stats">
                  <span class="badge bg-success">Intermediate</span>
                  <span class="text-muted">• 1.8M views</span>
                </div>
              </div>
            </div>
          </div>
          <div class="col-lg-4 col-md-6 mb-3">
            <div class="video-card" onclick="playVideo('deadlifts')">
              <div class="video-thumbnail">
                <img src="https://img.youtube.com/vi/op9kVnSso6Q/maxresdefault.jpg" alt="Deadlifts Tutorial" class="img-fluid">
                <div class="play-overlay">
                  <i class="fas fa-play"></i>
                </div>
                <div class="video-duration">9:42</div>
              </div>
              <div class="video-info">
                <h6 class="video-title">Deadlift Mastery</h6>
                <p class="video-description">Advanced deadlift techniques</p>
                <div class="video-stats">
                  <span class="badge bg-danger">Advanced</span>
                  <span class="text-muted">• 3.2M views</span>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="text-center mt-3">
          <button class="btn btn-outline-primary" onclick="showMoreVideos()">
            <i class="fas fa-plus me-2"></i>Load More Videos
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Motivational Widgets Section -->
<div class="row mb-5">
  <div class="col-lg-4 col-md-6 mb-4">
    <!-- Daily Quote Widget -->
    <div class="motivational-widget quote-widget animate-fade-in">
      <div class="widget-header">
        <i class="fas fa-quote-left widget-icon"></i>
        <h6 class="widget-title">Daily Inspiration</h6>
      </div>
      <div class="quote-text" id="motivationalQuote">
        "The only bad workout is the one that didn't happen."
      </div>
      <div class="quote-author" id="quoteAuthor">- Fitness Wisdom</div>
      <button class="btn btn-sm btn-outline-primary mt-2" onclick="getNewQuote()">
        <i class="fas fa-sync-alt me-1"></i>New Quote
      </button>
    </div>
  </div>
  
  <div class="col-lg-4 col-md-6 mb-3">
    <!-- Daily Challenge Widget -->
    <div class="motivational-widget challenge-widget animate-fade-in">
      <div class="widget-header">
        <i class="fas fa-fire widget-icon"></i>
        <h6 class="widget-title">Daily Challenge</h6>
      </div>
      <div class="challenge-content">
        <div class="challenge-title" id="dailyChallenge">
          Complete 50 Push-ups
        </div>
        <div class="challenge-progress">
          <div class="progress-bar-container">
            <div class="progress-bar" id="challengeProgress" style="width: 60%"></div>
          </div>
          <span class="progress-text">30/50 completed</span>
        </div>
        <button class="btn btn-sm btn-success mt-2" onclick="updateChallenge()">
          <i class="fas fa-plus me-1"></i>Log Progress
        </button>
      </div>
    </div>
  </div>
  
  <div class="col-lg-4 col-md-12 mb-4">
    <!-- Streak Widget -->
    <div class="motivational-widget streak-widget animate-fade-in">
      <div class="widget-header">
        <i class="fas fa-calendar-check widget-icon"></i>
        <h6 class="widget-title">Workout Streak</h6>
      </div>
      <div class="streak-content">
        <div class="streak-number" id="currentStreak">7</div>
        <div class="streak-label">Days Strong!</div>
        <div class="streak-visual">
          <div class="streak-flames">
            <i class="fas fa-fire flame-icon active"></i>
            <i class="fas fa-fire flame-icon active"></i>
            <i class="fas fa-fire flame-icon active"></i>
            <i class="fas fa-fire flame-icon"></i>
            <i class="fas fa-fire flame-icon"></i>
          </div>
        </div>
        <div class="streak-message" id="streakMessage">
          Keep it up! You're on fire! 🔥
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Tip of the Day Widget -->
<div class="row mb-5">
  <div class="col-12">
    <div class="motivational-widget tip-widget animate-fade-in">
      <div class="widget-header">
        <i class="fas fa-lightbulb widget-icon"></i>
        <h6 class="widget-title">Fitness Tip of the Day</h6>
      </div>
      <div class="tip-content">
        <div class="tip-text" id="dailyTip">
          Stay hydrated! Drink at least 8 glasses of water throughout your workout day to maintain peak performance and aid recovery.
        </div>
        <div class="tip-category">
          <span class="badge bg-info">Nutrition</span>
        </div>
        <button class="btn btn-sm btn-outline-info mt-2" onclick="getNewTip()">
          <i class="fas fa-lightbulb me-1"></i>New Tip
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Achievements and Badges Section -->
<div class="row mb-5">
  <div class="col-12">
    <div class="modern-card achievements-section">
      <div class="modern-card-header bg-gradient-achievement">
        <h5 class="mb-0 text-white">
          <i class="fas fa-trophy me-2"></i>
          Your Achievements
        </h5>
      </div>
      <div class="modern-card-body">
        <div class="row mb-3">
          <div class="col-md-4">
            <div class="level-progress-card">
              <div class="level-info">
                <div class="level-number">Level 12</div>
                <div class="level-title">Fitness Enthusiast</div>
              </div>
              <div class="xp-progress">
                <div class="xp-bar">
                  <div class="xp-fill" style="width: 65%"></div>
                </div>
                <div class="xp-text">1,300 / 2,000 XP</div>
              </div>
            </div>
          </div>
          <div class="col-md-8">
            <div class="badges-container">
              <div class="badge-item earned" title="First Workout Completed">
                <div class="badge-icon">
                  <i class="fas fa-dumbbell"></i>
                </div>
                <div class="badge-name">First Steps</div>
              </div>
              <div class="badge-item earned" title="7-Day Streak">
                <div class="badge-icon">
                  <i class="fas fa-fire"></i>
                </div>
                <div class="badge-name">On Fire</div>
              </div>
              <div class="badge-item earned" title="50 Workouts Completed">
                <div class="badge-icon">
                  <i class="fas fa-medal"></i>
                </div>
                <div class="badge-name">Dedicated</div>
              </div>
              <div class="badge-item locked" title="100 Workouts - Keep Going!">
                <div class="badge-icon">
                  <i class="fas fa-crown"></i>
                </div>
                <div class="badge-name">Champion</div>
              </div>
              <div class="badge-item locked" title="30-Day Streak - Almost There!">
                <div class="badge-icon">
                  <i class="fas fa-gem"></i>
                </div>
                <div class="badge-name">Diamond</div>
              </div>
              <div class="badge-item locked" title="Personal Best in All Categories">
                <div class="badge-icon">
                  <i class="fas fa-star"></i>
                </div>
                <div class="badge-name">Superstar</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Progress Visualization Charts -->
<div class="row mb-5">
  <div class="col-md-8 mb-4">
    <div class="modern-card chart-card">
      <div class="modern-card-header bg-gradient-chart">
        <h5 class="mb-0 text-white">
          <i class="fas fa-chart-line me-2"></i>
          Workout Progress
        </h5>
        <div class="chart-controls">
          <button class="btn btn-sm btn-outline-light" onclick="changeChartPeriod('week')">Week</button>
          <button class="btn btn-sm btn-light active" onclick="changeChartPeriod('month')">Month</button>
          <button class="btn btn-sm btn-outline-light" onclick="changeChartPeriod('year')">Year</button>
        </div>
      </div>
      <div class="modern-card-body">
        <canvas id="workoutProgressChart" width="400" height="200"></canvas>
      </div>
    </div>
  </div>
  
  <div class="col-md-4 mb-4">
    <div class="modern-card chart-card">
      <div class="modern-card-header bg-gradient-goals">
        <h5 class="mb-0 text-white">
          <i class="fas fa-bullseye me-2"></i>
          Goal Completion
        </h5>
      </div>
      <div class="modern-card-body">
        <canvas id="goalCompletionChart" width="200" height="200"></canvas>
        <div class="goal-stats mt-3">
          <div class="goal-stat-item">
            <span class="goal-stat-label">Completed</span>
            <span class="goal-stat-value text-success">8/12</span>
          </div>
          <div class="goal-stat-item">
            <span class="goal-stat-label">In Progress</span>
            <span class="goal-stat-value text-warning">3/12</span>
          </div>
          <div class="goal-stat-item">
            <span class="goal-stat-label">Pending</span>
            <span class="goal-stat-value text-muted">1/12</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Activity Heatmap and Performance Metrics -->
<div class="row mb-4">
  <div class="col-md-6 mb-3">
    <div class="modern-card chart-card">
      <div class="modern-card-header bg-gradient-activity">
        <h5 class="mb-0 text-white">
          <i class="fas fa-fire me-2"></i>
          Activity Heatmap
        </h5>
      </div>
      <div class="modern-card-body">
        <div id="activityHeatmap" class="heatmap-container">
          <!-- Heatmap will be generated by JavaScript -->
        </div>
        <div class="heatmap-legend mt-3">
          <span class="legend-label">Less</span>
          <div class="legend-colors">
            <div class="legend-color" data-level="0"></div>
            <div class="legend-color" data-level="1"></div>
            <div class="legend-color" data-level="2"></div>
            <div class="legend-color" data-level="3"></div>
            <div class="legend-color" data-level="4"></div>
          </div>
          <span class="legend-label">More</span>
        </div>
      </div>
    </div>
  </div>
  
  <div class="col-md-6 mb-3">
    <div class="modern-card chart-card">
      <div class="modern-card-header bg-gradient-performance">
        <h5 class="mb-0 text-white">
          <i class="fas fa-tachometer-alt me-2"></i>
          Performance Metrics
        </h5>
      </div>
      <div class="modern-card-body">
        <div class="performance-grid">
          <div class="performance-item">
            <div class="performance-icon">
              <i class="fas fa-dumbbell"></i>
            </div>
            <div class="performance-data">
              <div class="performance-value" id="perfTotalWorkouts">0</div>
              <div class="performance-label">Total Workouts</div>
              <div class="performance-change positive" id="perfWorkoutsChange">Loading...</div>
            </div>
          </div>
          <div class="performance-item">
            <div class="performance-icon">
              <i class="fas fa-clock"></i>
            </div>
            <div class="performance-data">
              <div class="performance-value" id="perfTrainingTime">0h</div>
              <div class="performance-label">Training Time</div>
              <div class="performance-change positive" id="perfTimeChange">Loading...</div>
            </div>
          </div>
          <div class="performance-item">
            <div class="performance-icon">
              <i class="fas fa-fire"></i>
            </div>
            <div class="performance-data">
              <div class="performance-value" id="perfCaloriesBurned">0</div>
              <div class="performance-label">Calories Burned</div>
              <div class="performance-change positive" id="perfCaloriesChange">Loading...</div>
            </div>
          </div>
          <div class="performance-item">
            <div class="performance-icon">
              <i class="fas fa-trophy"></i>
            </div>
            <div class="performance-data">
              <div class="performance-value" id="perfPersonalBests">0</div>
              <div class="performance-label">Personal Bests</div>
              <div class="performance-change positive" id="perfBestsChange">Loading...</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Personal Best Progress and Weight Tracking Charts -->
<div class="row mb-5">
  <div class="col-md-6 mb-4">
    <div class="modern-card chart-card">
      <div class="modern-card-header bg-gradient-chart">
        <h5 class="mb-0 text-white">
          <i class="fas fa-trophy me-2"></i>
          Personal Best Progress
        </h5>
        <div class="chart-controls">
          <select class="form-select form-select-sm" id="personalBestExercise" onchange="updatePersonalBestChart()">
            <option value="all">All Exercises</option>
            <option value="bench_press">Bench Press</option>
            <option value="squat">Squat</option>
            <option value="deadlift">Deadlift</option>
            <option value="overhead_press">Overhead Press</option>
          </select>
        </div>
      </div>
      <div class="modern-card-body">
        <canvas id="personalBestChart" width="400" height="300"></canvas>
      </div>
    </div>
  </div>
  
  <div class="col-md-6 mb-4">
    <div class="modern-card chart-card">
      <div class="modern-card-header bg-gradient-goals">
        <h5 class="mb-0 text-white">
          <i class="fas fa-weight me-2"></i>
          Weight Progress vs Goal
        </h5>
        <div class="chart-controls">
          <button class="btn btn-sm btn-outline-light" onclick="changeWeightPeriod('3months')">3M</button>
          <button class="btn btn-sm btn-light active" onclick="changeWeightPeriod('6months')">6M</button>
          <button class="btn btn-sm btn-outline-light" onclick="changeWeightPeriod('1year')">1Y</button>
        </div>
      </div>
      <div class="modern-card-body">
        <canvas id="weightProgressChart" width="400" height="300"></canvas>
        <div class="weight-stats mt-3">
          <div class="goal-stat-item">
            <span class="goal-stat-label">Current Weight</span>
            <span class="goal-stat-value text-info" id="currentWeight">-- kg</span>
          </div>
          <div class="goal-stat-item">
            <span class="goal-stat-label">Target Weight</span>
            <span class="goal-stat-value text-success">65 kg</span>
          </div>
          <div class="goal-stat-item">
            <span class="goal-stat-label">Progress</span>
            <span class="goal-stat-value text-warning" id="weightProgress">-- kg to go</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="row">
  <!-- Recent Activity -->
  <div class="col-lg-6 mb-4">
    <div class="modern-card animate-fade-in animate-delay-1">
      <div class="modern-card-header">
        <h5 class="mb-0">
          <i class="fas fa-clock me-2"></i>Recent Activity
        </h5>
      </div>
      <div class="modern-card-body">
        <div id="recentActivity">
          <div class="text-center py-3">
            <div class="spinner-border text-primary" role="status">
              <span class="visually-hidden">Loading...</span>
            </div>
            <p class="mt-2">Loading your recent activity...</p>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Goal Progress -->
  <div class="col-lg-6 mb-4">
    <div class="modern-card animate-fade-in animate-delay-2">
      <div class="modern-card-header">
        <h5 class="mb-0">
          <i class="fas fa-target me-2"></i>Goal Progress
        </h5>
      </div>
      <div class="modern-card-body">
        <div id="goalProgressContainer">
          <div class="text-center py-3">
            <div class="spinner-border text-primary" role="status">
              <span class="visually-hidden">Loading...</span>
            </div>
            <p class="mt-2">Loading your goals...</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Weight Progress Chart -->
<div class="row">
  <div class="col-12 mb-4">
    <div class="modern-card animate-fade-in animate-delay-3">
      <div class="modern-card-header">
        <h5 class="mb-0">
          <i class="fas fa-chart-line me-2"></i>Weight Progress Journey
        </h5>
      </div>
      <div class="modern-card-body">
        <div class="chart-wrapper">
          <canvas id="dashboardWeightChart"></canvas>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Quick Actions -->
<div class="row">
  <div class="col-md-3 col-sm-6 mb-3">
    <a href="{% url 'home' %}" class="text-decoration-none">
      <div class="modern-card text-center py-4 h-100">
        <i class="fas fa-plus-circle fa-3x text-primary mb-3"></i>
        <h6>Log Workout</h6>
        <p class="text-muted small">Record your training session</p>
      </div>
    </a>
  </div>
  <div class="col-md-3 col-sm-6 mb-3">
    <a href="{% url 'weight_tracker' %}" class="text-decoration-none">
      <div class="modern-card text-center py-4 h-100">
        <i class="fas fa-weight fa-3x text-success mb-3"></i>
        <h6>Track Weight</h6>
        <p class="text-muted small">Monitor your progress</p>
      </div>
    </a>
  </div>
  <div class="col-md-3 col-sm-6 mb-3">
    <a href="{% url 'goals' %}" class="text-decoration-none">
      <div class="modern-card text-center py-4 h-100">
        <i class="fas fa-bullseye fa-3x text-warning mb-3"></i>
        <h6>Set Goals</h6>
        <p class="text-muted small">Define your targets</p>
      </div>
    </a>
  </div>
  <div class="col-md-3 col-sm-6 mb-3">
    <a href="{% url 'ai_coach' %}" class="text-decoration-none">
      <div class="modern-card text-center py-4 h-100">
        <i class="fas fa-robot fa-3x text-info mb-3"></i>
        <h6>AI Coach</h6>
        <p class="text-muted small">Get expert advice</p>
      </div>
    </a>
  </div>
</div>

<!-- Floating Action Button -->
<button class="fab" onclick="window.location.href='{% url 'home' %}'" title="Quick Workout Log">
  <i class="fas fa-plus"></i>
</button>
{% endblock %}

{% block extra_js %}
<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Motivational quotes array
    const quotes = [
      { text: "The only bad workout is the one that didn't happen.", author: "Fitness Wisdom" },
      { text: "Your body can do it. It's your mind you need to convince.", author: "Fitness Motivation" },
      { text: "Success isn't given. It's earned in the gym.", author: "Fitness Philosophy" },
      { text: "The pain you feel today will be the strength you feel tomorrow.", author: "Arnold Schwarzenegger" },
      { text: "Don't limit your challenges, challenge your limits.", author: "Fitness Inspiration" },
      { text: "Progress, not perfection.", author: "Fitness Mindset" },
      { text: "The only impossible journey is the one you never begin.", author: "Tony Robbins" }
    ];
    
    // Display random motivational quote
    const randomQuote = quotes[Math.floor(Math.random() * quotes.length)];
    document.getElementById('motivationalQuote').textContent = `"${randomQuote.text}"`;
    document.getElementById('quoteAuthor').textContent = `- ${randomQuote.author}`;
    
    // Initialize dashboard data
    loadDashboardData();
    
    // Add floating animation to cards
    addFloatingAnimation();
    
    // Enhanced number animation with easing
    function animateNumber(element, target, duration = 2000) {
      const start = 0;
      const startTime = performance.now();
      
      function easeOutQuart(t) {
        return 1 - (--t) * t * t * t;
      }
      
      function updateNumber(currentTime) {
        const elapsed = currentTime - startTime;
        const progress = Math.min(elapsed / duration, 1);
        const easedProgress = easeOutQuart(progress);
        
        const current = Math.floor(target * easedProgress);
        element.textContent = current.toLocaleString();
        
        if (progress < 1) {
          requestAnimationFrame(updateNumber);
        } else {
          element.textContent = target.toLocaleString();
          // Add a subtle pulse effect when animation completes
          element.style.transform = 'scale(1.1)';
          setTimeout(() => {
            element.style.transform = 'scale(1)';
          }, 200);
        }
      }
      
      requestAnimationFrame(updateNumber);
    }
    
    // Card click animation
    function animateCard(card) {
      card.style.transform = 'scale(0.95)';
      setTimeout(() => {
        card.style.transform = '';
      }, 150);
      
      // Re-animate the number in this card
      const numberElement = card.querySelector('.stat-number');
      const target = parseInt(numberElement.getAttribute('data-target') || numberElement.textContent);
      animateNumber(numberElement, target, 1000);
    }
    
    // Add floating animation to stat cards
    function addFloatingAnimation() {
      const cards = document.querySelectorAll('.stat-card');
      cards.forEach((card, index) => {
        const delay = index * 0.5;
        card.style.animationDelay = `${delay}s`;
        card.classList.add('floating');
      });
    }
    
    function loadDashboardData() {
      // Load weight data
      fetch('/weight-history/')
        .then(response => response.json())
        .then(data => {
          if (data.success) {
            updateWeightChart(data.weight_history);
            const weightCount = data.weight_history.length;
            animateNumber(document.getElementById('weightEntries'), weightCount);
          }
        })
        .catch(error => console.error('Error loading weight history:', error));
      
      // Load workout and goal data
      fetch('/dashboard-data/')
        .then(response => response.json())
        .then(data => {
          if (data.success) {
            // Update dashboard stats with real data from database
            const stats = {
              totalWorkouts: data.workout_count || 0,
              activeGoals: data.active_goals_count || 0,
              streakDays: data.streak_days || 0,
              totalCalories: data.total_calories || 0,
              totalTime: data.total_time || 0
            };
            
            // Set data-target attributes and animate
            Object.keys(stats).forEach((key, index) => {
              const element = document.getElementById(key);
              if (element) {
                element.setAttribute('data-target', stats[key]);
                setTimeout(() => {
                  animateNumber(element, stats[key], 2000 + (index * 200));
                }, index * 150);
              }
            });
            
            // Update recent activity
            updateRecentActivity(data.recent_activity);
            
            // Update goal progress
            updateGoalProgress(data.goals);
          }
        })
        .catch(error => {
          console.error('Error loading dashboard data:', error);
          // Show fallback content
          document.getElementById('recentActivity').innerHTML = 
            '<div class="text-center py-4"><i class="fas fa-info-circle fa-2x text-muted mb-2"></i><p class="text-muted">No recent activity found</p></div>';
          document.getElementById('goalProgressContainer').innerHTML = 
            '<div class="text-center py-4"><i class="fas fa-bullseye fa-2x text-muted mb-2"></i><p class="text-muted">No goals set yet</p><a href="/goals/" class="btn btn-primary btn-sm">Set Your First Goal</a></div>';
        });
    }
    
    // Load performance metrics data
    function loadPerformanceMetrics() {
      fetch('/performance-metrics-api/', {
        method: 'GET',
        credentials: 'same-origin',
        headers: {
          'X-Requested-With': 'XMLHttpRequest',
          'Accept': 'application/json'
        }
      })
        .then(response => {
          if (!response.ok) {
            throw new Error(`HTTP error! status: ${response.status}`);
          }
          return response.json();
        })
        .then(data => {
          // Update performance metrics values
          document.getElementById('perfTotalWorkouts').textContent = data.totalWorkouts;
          document.getElementById('perfTrainingTime').textContent = data.trainingTime;
          document.getElementById('perfCaloriesBurned').textContent = data.caloriesBurned;
          document.getElementById('perfPersonalBests').textContent = data.personalBests;
          
          // Update change indicators
          updateChangeIndicator('perfWorkoutsChange', data.changes.workouts);
          updateChangeIndicator('perfTimeChange', data.changes.time);
          updateChangeIndicator('perfCaloriesChange', data.changes.calories);
          updateChangeIndicator('perfBestsChange', data.changes.personalBests);
        })
        .catch(error => {
          console.error('Error loading performance metrics:', error);
          // Show error state
          document.getElementById('perfTotalWorkouts').textContent = '0';
          document.getElementById('perfTrainingTime').textContent = '0h';
          document.getElementById('perfCaloriesBurned').textContent = '0';
          document.getElementById('perfPersonalBests').textContent = '0';
          
          document.getElementById('perfWorkoutsChange').textContent = 'Error loading';
          document.getElementById('perfTimeChange').textContent = 'Error loading';
          document.getElementById('perfCaloriesChange').textContent = 'Error loading';
          document.getElementById('perfBestsChange').textContent = 'Error loading';
        });
    }
    
    // Update change indicator with proper styling
    function updateChangeIndicator(elementId, change) {
      const element = document.getElementById(elementId);
      if (!element) return;
      
      element.classList.remove('positive', 'negative', 'neutral');
      
      if (change > 0) {
        element.classList.add('positive');
        element.innerHTML = `<i class="fas fa-arrow-up"></i> +${change} this month`;
      } else if (change < 0) {
        element.classList.add('negative');
        element.innerHTML = `<i class="fas fa-arrow-down"></i> ${change} this month`;
      } else {
        element.classList.add('neutral');
        element.innerHTML = `<i class="fas fa-minus"></i> No change`;
      }
    }
    
    function updateWeightChart(weightData) {
      const chartContainer = document.getElementById('dashboardWeightChart').parentNode;
      
      if (weightData.length === 0) {
        chartContainer.innerHTML = 
          '<div class="text-center py-5"><i class="fas fa-chart-line fa-3x text-muted mb-3"></i><h6 class="text-muted">No weight data available</h6><p class="text-muted">Start tracking your weight to see progress here</p><a href="/weight/" class="btn btn-primary">Add Weight Entry</a></div>';
        return;
      }
      
      // Sort data by date
      weightData.sort((a, b) => new Date(a.date) - new Date(b.date));
      
      // Get last 10 entries only
      const recentData = weightData.slice(-10);
      
      const ctx = document.getElementById('dashboardWeightChart').getContext('2d');
      new Chart(ctx, {
        type: 'line',
        data: {
          labels: recentData.map(entry => formatDate(entry.date)),
          datasets: [{
            label: 'Weight (kg)',
            data: recentData.map(entry => entry.weight),
            backgroundColor: 'rgba(102, 126, 234, 0.1)',
            borderColor: 'rgba(102, 126, 234, 1)',
            borderWidth: 3,
            tension: 0.4,
            pointBackgroundColor: 'rgba(102, 126, 234, 1)',
            pointBorderColor: '#fff',
            pointBorderWidth: 2,
            pointRadius: 6,
            pointHoverRadius: 8,
            fill: true
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: {
              display: false
            }
          },
          scales: {
            x: {
              grid: {
                display: false
              },
              ticks: {
                color: '#666'
              }
            },
            y: {
              beginAtZero: false,
              grid: {
                color: 'rgba(0,0,0,0.1)'
              },
              ticks: {
                color: '#666'
              }
            }
          },
          elements: {
            point: {
              hoverBackgroundColor: 'rgba(102, 126, 234, 1)'
            }
          }
        }
      });
    }
    
    function updateRecentActivity(activities) {
      const activityContainer = document.getElementById('recentActivity');
      
      if (!activities || activities.length === 0) {
        activityContainer.innerHTML = 
          '<div class="text-center py-4"><i class="fas fa-clock fa-2x text-muted mb-2"></i><p class="text-muted">No recent activity found</p><a href="/" class="btn btn-primary btn-sm">Log Your First Workout</a></div>';
        return;
      }
      
      activityContainer.innerHTML = '';
      
      activities.forEach((activity, index) => {
        const activityElement = document.createElement('div');
        activityElement.className = 'activity-item animate-fade-in';
        activityElement.style.animationDelay = `${index * 0.1}s`;
        
        let iconClass, iconBg, text;
        
        if (activity.type === 'workout') {
          iconClass = 'fas fa-dumbbell';
          iconBg = 'workout-icon';
          text = `Logged ${activity.exercise} (${activity.sets}×${activity.reps} @ ${activity.weight}kg)`;
        } else if (activity.type === 'goal') {
          iconClass = 'fas fa-bullseye';
          iconBg = 'goal-icon';
          text = `Set goal: ${activity.title}`;
        } else if (activity.type === 'weight') {
          iconClass = 'fas fa-weight';
          iconBg = 'weight-icon';
          text = `Logged weight: ${activity.weight}kg`;
        }
        
        activityElement.innerHTML = `
          <div class="d-flex align-items-center">
            <div class="activity-icon ${iconBg}">
              <i class="${iconClass}"></i>
            </div>
            <div class="flex-grow-1">
              <div class="fw-bold">${text}</div>
              <small class="text-muted">${formatDate(activity.date)}</small>
            </div>
          </div>
        `;
        
        activityContainer.appendChild(activityElement);
      });
    }
    
    function updateGoalProgress(goals) {
      const container = document.getElementById('goalProgressContainer');
      
      if (!goals || goals.length === 0) {
        container.innerHTML = 
          '<div class="text-center py-4"><i class="fas fa-bullseye fa-2x text-muted mb-2"></i><p class="text-muted">No goals set yet</p><a href="/goals/" class="btn btn-primary btn-sm">Set Your First Goal</a></div>';
        return;
      }
      
      container.innerHTML = '';
      
      goals.forEach((goal, index) => {
        const goalElement = document.createElement('div');
        goalElement.className = 'mb-4 animate-fade-in';
        goalElement.style.animationDelay = `${index * 0.1}s`;
        
        const progressColor = getProgressColor(goal.progress);
        
        goalElement.innerHTML = `
          <div class="d-flex justify-content-between align-items-center mb-2">
            <h6 class="mb-0 fw-bold">${goal.title}</h6>
            <span class="badge" style="background: ${progressColor}">${goal.progress}%</span>
          </div>
          <div class="modern-progress mb-2">
            <div class="modern-progress-bar" style="width: ${goal.progress}%; background: ${progressColor}"></div>
          </div>
          <small class="text-muted">${goal.details || 'Keep pushing towards your goal!'}</small>
        `;
        
        container.appendChild(goalElement);
        
        // Animate progress bar
        setTimeout(() => {
          const progressBar = goalElement.querySelector('.modern-progress-bar');
          progressBar.style.width = `${goal.progress}%`;
        }, index * 100);
      });
    }
    
    function getProgressColor(progress) {
      if (progress < 25) return 'linear-gradient(90deg, #ff6b6b, #ee5a52)';
      if (progress < 50) return 'linear-gradient(90deg, #feca57, #ff9ff3)';
      if (progress < 75) return 'linear-gradient(90deg, #48cae4, #0077b6)';
      return 'linear-gradient(90deg, #51cf66, #40c057)';
    }
    
    function formatDate(dateString) {
      const date = new Date(dateString);
      const now = new Date();
      const diffTime = Math.abs(now - date);
      const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
      
      if (diffDays === 1) return 'Today';
      if (diffDays === 2) return 'Yesterday';
      if (diffDays <= 7) return `${diffDays - 1} days ago`;
      
      return date.toLocaleDateString();
    }
    
    // Video functionality
    window.playVideo = function(videoType) {
      const videoUrls = {
        'pushups': 'https://www.youtube.com/watch?v=IODxDxX7oi4',
        'squats': 'https://www.youtube.com/watch?v=YaXPRqUwItQ',
        'deadlifts': 'https://www.youtube.com/watch?v=op9kVnSso6Q'
      };
      
      if (videoUrls[videoType]) {
        window.open(videoUrls[videoType], '_blank');
      }
    };
    
    window.showMoreVideos = function() {
      // Placeholder for loading more videos
      alert('Additional workout videos will be available soon. Stay tuned for more content!');
    };
    
    // Motivational quotes array for quote widget
     const motivationalQuotes = [
       { text: "The only bad workout is the one that didn't happen.", author: "Fitness Motivation" },
       { text: "Your body can do it. It's your mind you have to convince.", author: "Fitness Wisdom" },
       { text: "The groundwork for all happiness is good health.", author: "Leigh Hunt" },
       { text: "Take care of your body. It's the only place you have to live.", author: "Jim Rohn" },
       { text: "Fitness is not about being better than someone else. It's about being better than you used to be.", author: "Khloe Kardashian" },
       { text: "The successful warrior is the average man with laser-like focus.", author: "Bruce Lee" },
       { text: "Don't put off tomorrow what you can do today.", author: "Benjamin Franklin" },
       { text: "The pain you feel today will be the strength you feel tomorrow.", author: "Arnold Schwarzenegger" },
       { text: "Champions aren't made in the gyms. Champions are made from something deep inside them - a desire, a dream, a vision.", author: "Muhammad Ali" },
       { text: "Success isn't given. It's earned. On the track, on the field, in the gym. With blood, sweat, and the occasional tear.", author: "Nike" }
     ];
     
     window.getNewQuote = function() {
       const randomQuote = motivationalQuotes[Math.floor(Math.random() * motivationalQuotes.length)];
       const quoteElement = document.querySelector('.quote-text');
       const authorElement = document.querySelector('.blockquote-footer cite');
       
       if (quoteElement && authorElement) {
         // Add fade effect
         quoteElement.style.opacity = '0';
         authorElement.style.opacity = '0';
         
         setTimeout(() => {
           quoteElement.textContent = `"${randomQuote.text}"`;
           authorElement.textContent = randomQuote.author;
           quoteElement.style.opacity = '1';
           authorElement.style.opacity = '1';
         }, 200);
       }
     };
     
     // Auto-rotate quotes every 30 seconds
    setInterval(getNewQuote, 30000);
    
    // Daily challenges array
    const dailyChallenges = [
      { title: "Complete 50 Push-ups", target: 50, current: 30, unit: "reps" },
      { title: "Run 3 Miles", target: 3, current: 1.5, unit: "miles" },
      { title: "Hold Plank for 5 Minutes", target: 300, current: 180, unit: "seconds" },
      { title: "Do 100 Squats", target: 100, current: 65, unit: "reps" },
      { title: "Drink 8 Glasses of Water", target: 8, current: 5, unit: "glasses" },
      { title: "Walk 10,000 Steps", target: 10000, current: 6500, unit: "steps" },
      { title: "Meditate for 15 Minutes", target: 15, current: 8, unit: "minutes" }
    ];
    
    // Fitness tips array
    const fitnessTips = [
      { text: "Stay hydrated! Drink at least 8 glasses of water throughout your workout day to maintain peak performance and aid recovery.", category: "Nutrition" },
      { text: "Warm up for 5-10 minutes before exercising to prevent injuries and improve performance.", category: "Safety" },
      { text: "Focus on proper form rather than lifting heavy weights. Quality over quantity always wins.", category: "Technique" },
      { text: "Get 7-9 hours of sleep each night. Recovery is when your muscles actually grow and strengthen.", category: "Recovery" },
      { text: "Eat protein within 30 minutes after your workout to maximize muscle recovery and growth.", category: "Nutrition" },
      { text: "Mix up your routine every 4-6 weeks to prevent plateaus and keep your workouts interesting.", category: "Training" },
      { text: "Listen to your body. Rest days are just as important as workout days for long-term success.", category: "Recovery" },
      { text: "Set SMART goals: Specific, Measurable, Achievable, Relevant, and Time-bound.", category: "Motivation" }
    ];
    
    let currentChallenge = dailyChallenges[0];
    let currentTip = fitnessTips[0];
    
    // Update daily challenge
    function updateChallenge() {
      if (currentChallenge.current < currentChallenge.target) {
        const increment = Math.min(5, currentChallenge.target - currentChallenge.current);
        currentChallenge.current += increment;
        
        // Update progress display
        const progressPercent = (currentChallenge.current / currentChallenge.target) * 100;
        document.getElementById('challengeProgress').style.width = progressPercent + '%';
        document.querySelector('.progress-text').textContent = 
          `${currentChallenge.current}/${currentChallenge.target} ${currentChallenge.unit}`;
        
        // Check if challenge completed
        if (currentChallenge.current >= currentChallenge.target) {
          showChallengeComplete();
        }
      }
    }
    
    // Show challenge completion notification
    function showChallengeComplete() {
      const notification = document.createElement('div');
      notification.className = 'achievement-notification';
      notification.innerHTML = `
        <div class="notification-content">
          <i class="fas fa-trophy notification-icon"></i>
          <div class="notification-text">
            <strong>Challenge Complete!</strong><br>
            <span>${currentChallenge.title}</span>
          </div>
        </div>
      `;
      
      document.body.appendChild(notification);
      
      setTimeout(() => {
        notification.remove();
        // Load new challenge
        loadNewChallenge();
      }, 3000);
    }
    
    // Load new daily challenge
    function loadNewChallenge() {
      const randomIndex = Math.floor(Math.random() * dailyChallenges.length);
      currentChallenge = { ...dailyChallenges[randomIndex] };
      
      document.getElementById('dailyChallenge').textContent = currentChallenge.title;
      const progressPercent = (currentChallenge.current / currentChallenge.target) * 100;
      document.getElementById('challengeProgress').style.width = progressPercent + '%';
      document.querySelector('.progress-text').textContent = 
        `${currentChallenge.current}/${currentChallenge.target} ${currentChallenge.unit}`;
    }
    
    // Get new fitness tip
    function getNewTip() {
      const randomIndex = Math.floor(Math.random() * fitnessTips.length);
      currentTip = fitnessTips[randomIndex];
      
      const tipElement = document.getElementById('dailyTip');
      const categoryElement = document.querySelector('.tip-category .badge');
      
      // Fade out
      tipElement.style.opacity = '0';
      
      setTimeout(() => {
        tipElement.textContent = currentTip.text;
        categoryElement.textContent = currentTip.category;
        categoryElement.className = `badge bg-${getCategoryColor(currentTip.category)}`;
        
        // Fade in
        tipElement.style.opacity = '1';
      }, 300);
    }
    
    // Get category color for badges
    function getCategoryColor(category) {
      const colors = {
        'Nutrition': 'success',
        'Safety': 'warning',
        'Technique': 'primary',
        'Recovery': 'info',
        'Training': 'secondary',
        'Motivation': 'danger'
      };
      return colors[category] || 'info';
    }
    
    // Update streak display
    function updateStreak(days) {
      document.getElementById('currentStreak').textContent = days;
      
      const flames = document.querySelectorAll('.flame-icon');
      flames.forEach((flame, index) => {
        if (index < Math.min(days, 5)) {
          flame.classList.add('active');
        } else {
          flame.classList.remove('active');
        }
      });
      
      // Update streak message
      const messages = [
        "Just getting started! 💪",
        "Building momentum! 🚀",
        "You're on fire! 🔥",
        "Unstoppable force! ⚡",
        "Legendary streak! 🏆"
      ];
      
      const messageIndex = Math.min(Math.floor(days / 2), messages.length - 1);
      document.getElementById('streakMessage').textContent = messages[messageIndex];
    }
    
    // Initialize motivational widgets
    function initMotivationalWidgets() {
      // Auto-rotate tips every 45 seconds
      setInterval(getNewTip, 45000);
      
      // Update streak with real data from API
      fetch('/dashboard-data/')
        .then(response => response.json())
        .then(data => {
          if (data.success) {
            updateStreak(data.streak_days || 0);
          }
        })
        .catch(error => console.error('Error fetching streak data:', error));
    }
    
    // Initialize on page load
     initMotivationalWidgets();
     

     
     // Social Sharing Functions
     function openSocialWidget() {
       document.getElementById('socialSharingWidget').style.display = 'flex';
     }
     
     function closeSocialWidget() {
       document.getElementById('socialSharingWidget').style.display = 'none';
     }
     
     function shareToFacebook() {
       const url = encodeURIComponent(window.location.href);
       const text = encodeURIComponent('Check out my fitness progress!');
       window.open(`https://www.facebook.com/sharer/sharer.php?u=${url}&quote=${text}`, '_blank', 'width=600,height=400');
     }
     
     function shareToTwitter() {
       const url = encodeURIComponent(window.location.href);
       const text = encodeURIComponent('Just crushed my fitness goals! 💪 #FitnessJourney #Progress');
       window.open(`https://twitter.com/intent/tweet?text=${text}&url=${url}`, '_blank', 'width=600,height=400');
     }
     
     function shareToLinkedIn() {
        const url = encodeURIComponent(window.location.href);
        window.open(`https://www.linkedin.com/sharing/share-offsite/?url=${url}`, '_blank', 'width=600,height=400');
      }
      
      function shareToInstagram() {
        // Instagram doesn't support direct URL sharing, so we'll copy the link and show instructions
        navigator.clipboard.writeText(window.location.href).then(() => {
          alert('Link copied to clipboard! You can now paste it in your Instagram story or post.');
        });
      }
     
     function copyShareLink() {
       navigator.clipboard.writeText(window.location.href).then(() => {
         const btn = event.target;
         const originalText = btn.innerHTML;
         btn.innerHTML = '<i class="fas fa-check"></i> Copied!';
         setTimeout(() => {
           btn.innerHTML = originalText;
         }, 2000);
       });
     }
     
     function downloadImage() {
       // Create a canvas to generate achievement image
       const canvas = document.createElement('canvas');
       const ctx = canvas.getContext('2d');
       canvas.width = 800;
       canvas.height = 600;
       
       // Create gradient background
       const gradient = ctx.createLinearGradient(0, 0, 800, 600);
       gradient.addColorStop(0, '#667eea');
       gradient.addColorStop(1, '#764ba2');
       ctx.fillStyle = gradient;
       ctx.fillRect(0, 0, 800, 600);
       
       // Add text
       ctx.fillStyle = 'white';
       ctx.font = 'bold 48px Arial';
       ctx.textAlign = 'center';
       ctx.fillText('Fitness Achievement Unlocked!', 400, 200);
       
       ctx.font = '32px Arial';
       ctx.fillText('Keep pushing your limits! 💪', 400, 300);
       
       // Download the image
       const link = document.createElement('a');
       link.download = 'fitness-achievement.png';
       link.href = canvas.toDataURL();
       link.click();
     }
  
  // Gamification Functions
  function animateXPBar() {
    const xpFill = document.querySelector('.xp-fill');
    if (xpFill) {
      const targetWidth = xpFill.style.width;
      xpFill.style.width = '0%';
      setTimeout(() => {
        xpFill.style.width = targetWidth;
      }, 500);
    }
  }
  
  function unlockBadge(badgeElement) {
    if (badgeElement.classList.contains('locked')) {
      badgeElement.classList.remove('locked');
      badgeElement.classList.add('earned', 'newly-earned');
      
      // Play unlock animation
      setTimeout(() => {
        badgeElement.classList.remove('newly-earned');
      }, 600);
      
      // Show achievement notification
      showAchievementNotification(badgeElement.querySelector('.badge-name').textContent);
    }
  }
  
  function showAchievementNotification(badgeName) {
    // Create notification element
    const notification = document.createElement('div');
    notification.className = 'achievement-notification';
    notification.innerHTML = `
      <div class="achievement-content">
        <i class="fas fa-trophy"></i>
        <div>
          <div class="achievement-title">Achievement Unlocked!</div>
          <div class="achievement-badge">${badgeName}</div>
        </div>
      </div>
    `;
    
    // Add to page
    document.body.appendChild(notification);
    
    // Animate in
    setTimeout(() => {
      notification.classList.add('show');
    }, 100);
    
    // Remove after 4 seconds
    setTimeout(() => {
      notification.classList.remove('show');
      setTimeout(() => {
        document.body.removeChild(notification);
      }, 300);
    }, 4000);
  }
  
  function levelUp(newLevel, newTitle) {
    const levelNumber = document.querySelector('.level-number');
    const levelTitle = document.querySelector('.level-title');
    
    if (levelNumber && levelTitle) {
      // Animate level change
      levelNumber.style.transform = 'scale(1.5)';
      levelNumber.style.color = '#f093fb';
      
      setTimeout(() => {
        levelNumber.textContent = `Level ${newLevel}`;
        levelTitle.textContent = newTitle;
        
        setTimeout(() => {
          levelNumber.style.transform = 'scale(1)';
          levelNumber.style.color = '';
        }, 500);
      }, 250);
      
      // Show level up notification
      showLevelUpNotification(newLevel, newTitle);
    }
  }
  
  function showLevelUpNotification(level, title) {
    const notification = document.createElement('div');
    notification.className = 'level-up-notification';
    notification.innerHTML = `
      <div class="level-up-content">
        <i class="fas fa-star"></i>
        <div>
          <div class="level-up-title">LEVEL UP!</div>
          <div class="level-up-info">Level ${level} - ${title}</div>
        </div>
      </div>
    `;
    
    document.body.appendChild(notification);
    
    setTimeout(() => {
      notification.classList.add('show');
    }, 100);
    
    setTimeout(() => {
      notification.classList.remove('show');
      setTimeout(() => {
        document.body.removeChild(notification);
      }, 300);
    }, 5000);
  }
  
  // Add click handlers for badges
   document.addEventListener('DOMContentLoaded', async function() {
     const badges = document.querySelectorAll('.badge-item');
     badges.forEach(badge => {
       badge.addEventListener('click', function() {
         if (this.classList.contains('earned')) {
           // Add pulse effect for earned badges
           this.style.animation = 'pulse 0.6s ease';
           setTimeout(() => {
             this.style.animation = '';
           }, 600);
         }
       });
     });
     
     // Animate XP bar on load
     setTimeout(animateXPBar, 1000);
     
     // Initialize charts
     await initializeCharts();
     generateActivityHeatmap();
     
     // Load performance metrics
     loadPerformanceMetrics();
   });
   
   // Chart Variables
   let workoutChart = null;
   let goalChart = null;
   let currentChartPeriod = 'month';
   
   // Initialize Charts
   async function initializeCharts() {
     initWorkoutProgressChart();
     initGoalCompletionChart();
     await initPersonalBestChart();
     await initWeightProgressChart();
   }
   
   // Workout Progress Chart
   function initWorkoutProgressChart() {
     const ctx = document.getElementById('workoutProgressChart');
     if (!ctx) return;
     
     const chartData = getWorkoutChartData(currentChartPeriod);
     
     workoutChart = new Chart(ctx, {
       type: 'line',
       data: {
         labels: chartData.labels,
         datasets: [{
           label: 'Workouts',
           data: chartData.workouts,
           borderColor: '#667eea',
           backgroundColor: 'rgba(102, 126, 234, 0.1)',
           borderWidth: 3,
           fill: true,
           tension: 0.4,
           pointBackgroundColor: '#667eea',
           pointBorderColor: '#fff',
           pointBorderWidth: 2,
           pointRadius: 6,
           pointHoverRadius: 8
         }, {
           label: 'Calories',
           data: chartData.calories,
           borderColor: '#f093fb',
           backgroundColor: 'rgba(240, 147, 251, 0.1)',
           borderWidth: 3,
           fill: true,
           tension: 0.4,
           pointBackgroundColor: '#f093fb',
           pointBorderColor: '#fff',
           pointBorderWidth: 2,
           pointRadius: 6,
           pointHoverRadius: 8
         }]
       },
       options: {
         responsive: true,
         maintainAspectRatio: false,
         plugins: {
           legend: {
             position: 'top',
             labels: {
               usePointStyle: true,
               padding: 20
             }
           }
         },
         scales: {
           y: {
             beginAtZero: true,
             grid: {
               color: 'rgba(0,0,0,0.1)'
             }
           },
           x: {
             grid: {
               color: 'rgba(0,0,0,0.1)'
             }
           }
         },
         animation: {
           duration: 2000,
           easing: 'easeInOutQuart'
         }
       }
     });
   }
   
   // Goal Completion Chart
   function initGoalCompletionChart() {
     const ctx = document.getElementById('goalCompletionChart');
     if (!ctx) return;
     
     goalChart = new Chart(ctx, {
       type: 'doughnut',
       data: {
         labels: ['Completed', 'In Progress', 'Pending'],
         datasets: [{
           data: [8, 3, 1],
           backgroundColor: [
             '#51cf66',
             '#ffd43b',
             '#e9ecef'
           ],
           borderWidth: 0,
           cutout: '70%'
         }]
       },
       options: {
         responsive: true,
         maintainAspectRatio: false,
         plugins: {
           legend: {
             display: false
           }
         },
         animation: {
           animateRotate: true,
           duration: 2000
         }
       }
     });
   }
   
   // Personal Best Progress Chart
   let personalBestChart = null;
   let currentPersonalBestExercise = 'all';
   
   async function initPersonalBestChart() {
     const ctx = document.getElementById('personalBestChart');
     if (!ctx) return;
     
     const chartData = await getPersonalBestChartData(currentPersonalBestExercise);
     
     personalBestChart = new Chart(ctx, {
       type: 'line',
       data: {
         labels: chartData.labels,
         datasets: chartData.datasets
       },
       options: {
         responsive: true,
         maintainAspectRatio: false,
         plugins: {
           legend: {
             display: true,
             position: 'top'
           },
           tooltip: {
             mode: 'index',
             intersect: false
           }
         },
         scales: {
           x: {
             display: true,
             title: {
               display: true,
               text: 'Date'
             }
           },
           y: {
             display: true,
             title: {
               display: true,
               text: 'Weight (kg)'
             },
             beginAtZero: false
           }
         },
         interaction: {
           mode: 'nearest',
           axis: 'x',
           intersect: false
         }
       }
     });
   }
   
   async function getPersonalBestChartData(exercise) {
     try {
       const response = await fetch(`/personal-best-progress-api/?exercise=${exercise}`);
       const data = await response.json();
       return data;
     } catch (error) {
       console.error('Error fetching personal best data:', error);
       return {
         labels: ['No data'],
         datasets: [{
           label: 'No data available',
           data: [0],
           borderColor: '#e9ecef',
           backgroundColor: 'rgba(233, 236, 239, 0.1)'
         }]
       };
     }
   }
   
   async function updatePersonalBestChart() {
     const exercise = document.getElementById('personalBestExercise').value;
     currentPersonalBestExercise = exercise;
     
     if (personalBestChart) {
       const newData = await getPersonalBestChartData(exercise);
       personalBestChart.data.labels = newData.labels;
       personalBestChart.data.datasets = newData.datasets;
       personalBestChart.update('active');
     }
   }
   
   // Weight Progress Chart
   let weightChart = null;
   let currentWeightPeriod = '6months';
   
   async function initWeightProgressChart() {
     const ctx = document.getElementById('weightProgressChart');
     if (!ctx) return;
     
     const chartData = await getWeightChartData(currentWeightPeriod);
     
     weightChart = new Chart(ctx, {
       type: 'line',
       data: {
         labels: chartData.labels,
         datasets: [
           {
             label: 'Actual Weight',
             data: chartData.actualWeight,
             borderColor: '#339af0',
             backgroundColor: 'rgba(51, 154, 240, 0.1)',
             tension: 0.4,
             fill: true
           },
           {
             label: 'Target Weight',
             data: chartData.targetWeight,
             borderColor: '#51cf66',
             backgroundColor: 'rgba(81, 207, 102, 0.1)',
             borderDash: [5, 5],
             tension: 0,
             fill: false
           }
         ]
       },
       options: {
         responsive: true,
         maintainAspectRatio: false,
         plugins: {
           legend: {
             display: true,
             position: 'top'
           },
           tooltip: {
             mode: 'index',
             intersect: false,
             callbacks: {
               label: function(context) {
                 return context.dataset.label + ': ' + context.parsed.y + ' kg';
               }
             }
           }
         },
         scales: {
           x: {
             display: true,
             title: {
               display: true,
               text: 'Date'
             }
           },
           y: {
             display: true,
             title: {
               display: true,
               text: 'Weight (kg)'
             },
             min: 60,
             max: 85
           }
         },
         interaction: {
           mode: 'nearest',
           axis: 'x',
           intersect: false
         }
       }
     });
     
     // Update weight stats
     updateWeightStats(chartData);
   }
   
   async function getWeightChartData(period) {
     try {
       const response = await fetch(`/weight-progress-api/?period=${period}`);
       const data = await response.json();
       return data;
     } catch (error) {
       console.error('Error fetching weight data:', error);
       return {
         labels: ['No data'],
         actualWeight: [0],
         targetWeight: [65]
       };
     }
   }
   
   async function changeWeightPeriod(period) {
     currentWeightPeriod = period;
     
     // Update button states
     const buttons = document.querySelectorAll('#weightProgressChart').closest('.modern-card').querySelectorAll('.chart-controls .btn');
     buttons.forEach(btn => {
       btn.classList.remove('btn-light', 'active');
       btn.classList.add('btn-outline-light');
     });
     event.target.classList.remove('btn-outline-light');
     event.target.classList.add('btn-light', 'active');
     
     // Update chart data
     if (weightChart) {
       const newData = await getWeightChartData(period);
       weightChart.data.labels = newData.labels;
       weightChart.data.datasets[0].data = newData.actualWeight;
       weightChart.data.datasets[1].data = newData.targetWeight;
       weightChart.update('active');
       
       updateWeightStats(newData);
     }
   }
   
   function updateWeightStats(chartData) {
     const currentWeight = chartData.actualWeight[chartData.actualWeight.length - 1];
     const targetWeight = 65;
     const progress = currentWeight - targetWeight;
     
     document.getElementById('currentWeight').textContent = currentWeight + ' kg';
     document.getElementById('weightProgress').textContent = progress > 0 ? progress + ' kg to go' : 'Goal achieved!';
   }
   
   // Get chart data based on period
   function getWorkoutChartData(period) {
     const data = {
       week: {
         labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
         workouts: [2, 1, 3, 2, 1, 2, 0],
         calories: [450, 320, 680, 520, 280, 490, 0]
       },
       month: {
         labels: ['Week 1', 'Week 2', 'Week 3', 'Week 4'],
         workouts: [8, 12, 10, 15],
         calories: [2100, 3200, 2800, 3900]
       },
       year: {
         labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
         workouts: [25, 28, 32, 30, 35, 38, 42, 40, 45, 48, 35, 30],
         calories: [6500, 7200, 8100, 7800, 9200, 9800, 11200, 10500, 12000, 12800, 9500, 8200]
       }
     };
     return data[period] || data.month;
   }
   
   // Change chart period
   function changeChartPeriod(period) {
     currentChartPeriod = period;
     
     // Update button states
     document.querySelectorAll('.chart-controls .btn').forEach(btn => {
       btn.classList.remove('btn-light', 'active');
       btn.classList.add('btn-outline-light');
     });
     event.target.classList.remove('btn-outline-light');
     event.target.classList.add('btn-light', 'active');
     
     // Update chart data
     if (workoutChart) {
       const newData = getWorkoutChartData(period);
       workoutChart.data.labels = newData.labels;
       workoutChart.data.datasets[0].data = newData.workouts;
       workoutChart.data.datasets[1].data = newData.calories;
       workoutChart.update('active');
     }
   }
   
   // Generate Activity Heatmap
   function generateActivityHeatmap() {
     const container = document.getElementById('activityHeatmap');
     if (!container) return;
     
     const grid = document.createElement('div');
     grid.className = 'heatmap-grid';
     
     // Generate 365 days (53 weeks * 7 days)
     for (let week = 0; week < 53; week++) {
       for (let day = 0; day < 7; day++) {
         const cell = document.createElement('div');
         cell.className = 'heatmap-cell';
         
         // Random activity level (0-4)
         const level = Math.floor(Math.random() * 5);
         cell.setAttribute('data-level', level);
         
         // Add tooltip
         const date = new Date();
         date.setDate(date.getDate() - (52 - week) * 7 - (6 - day));
         const workouts = level === 0 ? 0 : level;
         cell.title = `${date.toDateString()}: ${workouts} workout${workouts !== 1 ? 's' : ''}`;
         
         grid.appendChild(cell);
       }
     }
     
     container.appendChild(grid);
   }
    
    // Add scroll animations
    const observerOptions = {
      threshold: 0.1,
      rootMargin: '0px 0px -50px 0px'
    };
    
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('animate-fade-in');
        }
      });
    }, observerOptions);
    
    // Observe all cards for animation
    document.querySelectorAll('.modern-card').forEach(card => {
      observer.observe(card);
    });
    
    // Observe video cards for animation
    document.querySelectorAll('.video-card').forEach(card => {
      observer.observe(card);
    });
  });
</script>

<!-- Social Sharing Widget -->
<div class="social-sharing-widget" id="socialWidget">
  <div class="social-header">
    <h6><i class="fas fa-share-alt me-2"></i>Share Your Progress</h6>
    <button class="btn-close-social" onclick="closeSocialWidget()">
      <i class="fas fa-times"></i>
    </button>
  </div>
  
  <div class="sharing-content">
    <div class="achievement-preview" id="achievementPreview">
      <div class="preview-header">
        <div class="user-avatar">
          <i class="fas fa-user-circle"></i>
        </div>
        <div class="user-info">
          <div class="username">Fitness Enthusiast</div>
          <div class="timestamp">Just now</div>
        </div>
      </div>
      
      <div class="preview-content" id="previewContent">
        <div class="achievement-card">
          <div class="achievement-icon">
            <i class="fas fa-trophy"></i>
          </div>
          <div class="achievement-text">
            <h5>New Personal Record!</h5>
            <p>Completed 7-day workout streak 🔥</p>
          </div>
        </div>
      </div>
      
      <div class="preview-stats">
        <div class="stat-item">
          <span class="stat-value">150</span>
          <span class="stat-label">Workouts</span>
        </div>
        <div class="stat-item">
          <span class="stat-value">2.5k</span>
          <span class="stat-label">Calories</span>
        </div>
        <div class="stat-item">
          <span class="stat-value">12</span>
          <span class="stat-label">Badges</span>
        </div>
      </div>
    </div>
    
    <div class="sharing-options">
      <div class="share-text">
        <textarea id="shareMessage" placeholder="Add a message to your post...">Just completed another great workout! 💪 #FitnessJourney #WorkoutComplete #HealthyLifestyle</textarea>
      </div>
      
      <div class="social-platforms">
        <button class="social-btn facebook" onclick="shareToFacebook()">
          <i class="fab fa-facebook-f"></i>
          <span>Facebook</span>
        </button>
        <button class="social-btn twitter" onclick="shareToTwitter()">
          <i class="fab fa-twitter"></i>
          <span>Twitter</span>
        </button>
        <button class="social-btn instagram" onclick="shareToInstagram()">
          <i class="fab fa-instagram"></i>
          <span>Instagram</span>
        </button>
        <button class="social-btn linkedin" onclick="shareToLinkedIn()">
          <i class="fab fa-linkedin-in"></i>
          <span>LinkedIn</span>
        </button>
      </div>
      
      <div class="quick-actions">
        <button class="btn btn-outline-primary btn-sm" onclick="copyShareLink()">
          <i class="fas fa-link me-1"></i>Copy Link
        </button>
        <button class="btn btn-outline-success btn-sm" onclick="downloadImage()">
          <i class="fas fa-download me-1"></i>Save Image
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Social Share Trigger Button -->
<button class="social-trigger-btn" onclick="openSocialWidget()" title="Share Your Achievement">
  <i class="fas fa-share-alt"></i>
</button>



{% endblock %}